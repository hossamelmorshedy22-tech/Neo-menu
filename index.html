<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© Ù…Ù†ÙŠÙˆ - NEO CAFÃ‰</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --neo-green:#124d33;
  --neo-green-2:#2f6b46;
  --neo-beige:#f6efe6;
  --neo-cream:#f7ead6;
  --muted:#6b6b6b;
  --shadow: 0 12px 30px rgba(15,40,25,0.06);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;height:100%;background:var(--neo-beige);font-family:"Cairo",sans-serif;color:#111}
img{max-width:100%;display:block}

/* header */
.header{padding:18px 14px 6px; text-align:center; position:relative}
.header .logo{position:absolute;top:8px;right:12px;width:88px;height:auto;object-fit:contain}
.header h1{margin:0;font-size:20px;color:var(--neo-green);font-weight:800}
.header p{margin:6px 0 0;color:var(--neo-green-2);font-weight:700}

/* tabs */
.tabs-area{padding:10px 12px 6px;display:flex;flex-direction:column;align-items:center;gap:8px}
.tab-row-top{display:flex;justify-content:center;width:100%}
.tab-all{background:var(--neo-green);color:#fff;padding:10px 22px;border-radius:999px;font-weight:800;border:none;cursor:pointer}
.tabs-row{display:flex;gap:8px;flex-wrap:nowrap;overflow-x:auto;padding:8px 6px;justify-content:center;width:100%}
.tab{flex:0 0 auto;padding:8px 12px;border-radius:999px;background:var(--neo-cream);border:1px solid rgba(18,77,51,0.06);color:var(--neo-green-2);font-weight:700;cursor:pointer;white-space:nowrap}
.tab.active{background:linear-gradient(180deg,var(--neo-green),var(--neo-green-2));color:#fff;box-shadow:0 10px 28px rgba(18,77,51,0.12)}

/* container */
.container{max-width:920px;margin:8px auto;padding:0 14px}
.section-title{font-size:18px;font-weight:800;color:var(--neo-green-2);margin:10px 0;text-align:right}

/* grid */
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding-bottom:180px}
.card{background:#fff;border-radius:14px;padding:12px;display:flex;flex-direction:row;gap:12px;box-shadow:var(--shadow);transition:transform .14s}
.thumb{width:120px;height:92px;border-radius:10px;background:#efefef;object-fit:cover;flex:0 0 120px}
.info{flex:1;display:flex;flex-direction:column;justify-content:space-between}
.product-title{font-size:16px;font-weight:800;color:var(--neo-green);word-break:break-word}
.price-row{display:flex;align-items:center;justify-content:space-between;margin-top:6px}
.price{color:var(--neo-green);font-weight:900;font-size:15px}

/* actions row */
.actions{display:flex;gap:8px;align-items:center;justify-content:flex-end;margin-top:6px}
.btn{padding:8px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:800;font-size:14px}
.btn-outline{background:#fff;border:1px solid #eee;color:#444}
.btn-primary{background:var(--neo-green);color:#fff;box-shadow:0 8px 20px rgba(18,77,51,0.12)}

/* toast */
#toast{position:fixed;left:50%;transform:translateX(-50%);bottom:160px;background:rgba(0,0,0,0.86);color:#fff;padding:10px 14px;border-radius:10px;font-weight:700;z-index:2147483647;opacity:0;transition:opacity .18s}

/* cart float */
.cart-float{position:fixed;right:14px;bottom:14px;z-index:2147483647;display:flex;align-items:center;gap:10px;pointer-events:auto}
.cart-btn{width:62px;height:62px;border-radius:14px;background:linear-gradient(180deg,var(--neo-green),var(--neo-green-2));display:flex;align-items:center;justify-content:center;box-shadow:0 28px 70px rgba(18,77,51,0.30);cursor:pointer;position:relative;transition:transform .16s}
.cart-badge{position:absolute;top:-8px;left:-8px;min-width:28px;height:28px;display:flex;align-items:center;justify-content:center;border-radius:999px;background:#ffeb3b;color:#111;font-weight:900;box-shadow:0 8px 20px rgba(0,0,0,0.12);font-size:13px;display:none}
.cart-total{position:absolute;bottom:-10px;left:6px;background:#fff;padding:6px 10px;border-radius:999px;font-weight:900;color:var(--neo-green);font-size:13px;box-shadow:0 8px 20px rgba(0,0,0,0.08)}

/* cart modal */
.cart-modal{position:fixed;right:14px;bottom:92px;z-index:2147483646;width:calc(100% - 28px);max-width:420px;background:#fff;border-radius:14px;box-shadow:0 30px 80px rgba(10,20,15,0.2);overflow:hidden;transform-origin:100% 100%;transform:translateY(10px) scale(.98);opacity:0;transition:all .18s}
.cart-modal.show{transform:none;opacity:1}
.cart-modal header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #f1f1f1}
.cart-modal .items{max-height:360px;overflow:auto;padding:10px 12px;display:flex;flex-direction:column;gap:10px}
.cart-modal footer{padding:12px;border-top:1px solid #f1f1f1;display:flex;flex-direction:column;gap:12px}
.total-row{display:flex;justify-content:space-between;align-items:center;font-weight:900;color:var(--neo-green);font-size:16px}
.checkout-btn{background:var(--neo-green);color:#fff;padding:12px 14px;border-radius:12px;border:0;font-weight:900;cursor:pointer}

/* footer */
.footer{padding:18px 12px 34px;text-align:center;color:var(--muted);margin-top:8px}
.socials{display:flex;justify-content:center;gap:10px;margin-top:10px;flex-wrap:wrap}
.social-facebook{background:#1877F2;padding:8px 12px;border-radius:10px;color:#fff}
.social-instagram{background:linear-gradient(45deg,#f58529,#dd2a7b,#8134af);padding:8px 12px;border-radius:10px;color:#fff}
.social-tiktok{background:#010101;padding:8px 12px;border-radius:10px;color:#fff}
.thank{margin-top:12px;font-weight:700;color:var(--neo-green-2);font-size:15px}

/* bump */
.cart-btn.bump{transform:scale(1.12);box-shadow:0 40px 110px rgba(18,77,51,0.36)}

/* responsive mobile: single column for readability */
@media (max-width:520px){
  .grid{grid-template-columns:1fr}
  .thumb{width:100%;height:160px;flex:0 0 auto;border-radius:10px}
  .card{flex-direction:column}
  .cart-float{right:12px;bottom:12px}
}
</style>
</head>
<body>

<header class="header">
  <img src="assets/images/logo.png" class="logo" alt="NEO CAFÃ‰" onerror="this.style.display='none'">
  <h1>Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© Ù…Ù†ÙŠÙˆ - NEO CAFÃ‰</h1>
  <p>Make It NEO Time</p>
</header>

<div class="tabs-area">
  <div class="tab-row-top">
    <button class="tab-all active" id="tabAllBtn" data-cat="all">Ø§Ù„ÙƒÙ„</button>
  </div>
  <div class="tabs-row" id="tabs" role="tablist" aria-label="Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ù†ÙŠÙˆ">
    <button class="tab active" data-cat="cold">Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø©</button>
    <button class="tab" data-cat="hot">Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø³Ø§Ø®Ù†Ø©</button>
    <button class="tab" data-cat="soft">Ø³ÙˆÙØª Ø¯Ø±ÙŠÙ†Ùƒ</button>
    <button class="tab" data-cat="dessert_dishes">Ø¯ÙŠØ²ÙŠØ±Øª</button>
    <button class="tab" data-cat="special">Ù…Ù…ÙŠØ² Ù†ÙŠÙˆ</button>
    <button class="tab" data-cat="fun">Ø¯Ù„Ø¹ Ù†ÙØ³Ùƒ ÙÙŠ Ù†ÙŠÙˆ - Ù…Ø¬Ø§Ù†Ù‹Ø§</button>
  </div>
</div>

<main class="container" id="app">
  <div id="content" aria-live="polite"></div>

  <footer class="footer">
    <div>ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„</div>
    <div class="socials">
      <a class="social-facebook" href="https://facebook.com/neo.cafe.eg" target="_blank" rel="noopener">Facebook</a>
      <a class="social-instagram" href="https://instagram.com/neocafe.eg" target="_blank" rel="noopener">Instagram</a>
      <a class="social-tiktok" href="https://tiktok.com/@neo.cafe.eg" target="_blank" rel="noopener">TikTok</a>
    </div>
    <div class="thank">â¤ï¸ Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±ÙƒÙ… Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© â€” Ø­Ø¨ ÙˆØªÙ…ÙŠÙŠØ² Ø¯Ø§ÙŠÙ…Ù‹Ø§ Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù†ÙŠÙˆ ğŸ’š</div>
  </footer>
</main>

<div id="toast" aria-hidden="true"></div>

<!-- cart float -->
<div class="cart-float">
  <button id="cartBtn" class="cart-btn" aria-label="Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <path d="M6 6H21L20 12H8L6 6Z" stroke="#fff" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M7 18C7.552 18 8 17.552 8 17C8 16.448 7.552 16 7 16C6.448 16 6 16.448 6 17C6 17.552 6.448 18 7 18Z" fill="#fff"/>
      <path d="M18 18C18.552 18 19 17.552 19 17C19 16.448 18.552 16 18 16C17.448 16 17 16.448 17 17C17 17.552 17.448 18 18 18Z" fill="#fff"/>
    </svg>
    <div id="cartBadge" class="cart-badge">0</div>
    <div id="cartTotal" class="cart-total">0 Ø¬</div>
  </button>
</div>

<!-- cart modal -->
<div id="cartModal" class="cart-modal" aria-hidden="true">
  <header>
    <h4>Ø§Ù„Ø³Ù„Ø©</h4>
    <div>
      <button id="clearCartBtn" class="close-btn">ØªÙØ±ÙŠØº</button>
      <button id="closeCartBtn" class="close-btn">âœ•</button>
    </div>
  </header>
  <div class="items" id="cartItems"></div>
  <footer>
    <div class="total-row">
      <div>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
      <div id="modalTotal">0 Ø¬</div>
    </div>
    <button id="checkoutNowBtn" class="checkout-btn">Ø§Ø·Ù„Ø¨ Ø¯Ù„ÙˆÙ‚ØªÙŠ</button>
  </footer>
</div>

<script>
/* ====== Config & data ====== */
const CART_KEY = 'neoCafe_cart_v1';
/* Empty cart on load (as requested earlier) */
localStorage.removeItem(CART_KEY);

/* Full menu (Ø£Ø¶ÙØª ÙƒÙ„ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„Ù„ÙŠ Ø¨Ø¹ØªÙ‡Ø§Ù„Ùƒ) */
const MENU = [
  /* Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø³Ø§Ø®Ù†Ø© */
  {id:'h001',cat:'hot',name:'Ø´Ø§ÙŠ',price:18},
  {id:'h002',cat:'hot',name:'Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø±',price:22},
  {id:'h003',cat:'hot',name:'Ø´Ø§ÙŠ Ù†ÙƒÙ‡Ø§Øª',price:20},
  {id:'h004',cat:'hot',name:'Ù†Ø¹Ù†Ø§Ø¹',price:18},
  {id:'h005',cat:'hot',name:'ÙŠÙ†Ø³ÙˆÙ†',price:18},
  {id:'h006',cat:'hot',name:'Ø¬Ù†Ø²Ø¨ÙŠÙ„',price:20},
  {id:'h007',cat:'hot',name:'Ø§Ø³Ø¨Ø±ÙŠØ³Ùˆ',price:25},
  {id:'h008',cat:'hot',name:'Ø§Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø¯Ø¨Ù„',price:35},
  {id:'h009',cat:'hot',name:'Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠ Ø³Ù†Ø¬Ù„',price:30},
  {id:'h010',cat:'hot',name:'Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠ Ø¯Ø¨Ù„',price:45},
  {id:'h011',cat:'hot',name:'Ù‚Ù‡ÙˆØ© ÙØ±Ù†Ø³Ø§ÙˆÙŠ',price:40},
  {id:'h012',cat:'hot',name:'Ù‚Ù‡ÙˆØ© Ø¨Ù†Ø¯Ù‚',price:45},
  {id:'h013',cat:'hot',name:'Ù‚Ù‡ÙˆØ© Ù†ÙˆØªÙŠÙ„Ø§',price:55},
  {id:'h014',cat:'hot',name:'Ù‚Ù‡ÙˆØ© Ø¨Ø³ØªØ§Ø´ÙŠÙˆ',price:60},
  {id:'h015',cat:'hot',name:'Ù„Ø§ØªÙŠÙ‡',price:45},
  {id:'h016',cat:'hot',name:'Ø§Ø³Ø¨Ø§Ù†Ø´ Ù„Ø§ØªÙŠÙ‡',price:55},
  {id:'h017',cat:'hot',name:'ÙƒØ§Ø¨ØªØ´ÙŠÙ†Ùˆ',price:50},
  {id:'h018',cat:'hot',name:'Ù†Ø³ÙƒØ§ÙÙŠÙ‡',price:30},
  {id:'h019',cat:'hot',name:'Ø£Ù…ÙŠØ±ÙƒØ§Ù† ÙƒÙˆÙÙŠ',price:35},
  {id:'h020',cat:'hot',name:'Ù‡ÙˆØª Ø´ÙˆÙƒÙ„ÙŠØª',price:45},
  {id:'h021',cat:'hot',name:'Ù‡ÙˆØª Ø³ÙŠØ¯Ø±',price:40},
  {id:'h022',cat:'hot',name:'Ø³Ø­Ù„Ø¨',price:50},
  {id:'h023',cat:'hot',name:'Ø³Ø­Ù„Ø¨ Ù…ÙƒØ³Ø±Ø§Øª',price:65},
  {id:'h024',cat:'hot',name:'Ø³Ø­Ù„Ø¨ Ù„ÙˆØªØ³',price:70},
  {id:'h025',cat:'hot',name:'Ø³Ø­Ù„Ø¨ Ø¨Ø³ØªØ§Ø´ÙŠÙˆ',price:75},
  {id:'h026',cat:'hot',name:'Ø³Ø­Ù„Ø¨ Ù†ÙˆØªÙŠÙ„Ø§',price:75},
  {id:'h027',cat:'hot',name:'Ø³Ø­Ù„Ø¨ ÙÙˆØ§ÙƒÙ‡',price:80},

  /* Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø© - Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ Ùˆ ÙØ±Ø¨ØªØ´ÙŠÙ†Ùˆ Ùˆ Ø§ÙŠØ³ Ùˆ ÙØ±ÙŠØ´ ÙˆØ§Ø³Ù…ÙˆØ«ÙŠ */
  {id:'c001',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ø£ÙˆØ±ÙŠÙˆ',price:75},
  {id:'c002',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ù‡ÙˆÙ‡ÙˆØ²',price:75},
  {id:'c003',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - ÙØ§Ù†Ù„ÙŠØ§',price:75},
  {id:'c004',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - ÙƒØ±Ø§Ù…ÙŠÙ„',price:75},
  {id:'c005',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - ÙØ±Ø§ÙˆÙ„Ø©',price:75},
  {id:'c006',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ù…Ø§Ù†Ø¬Ùˆ',price:75},
  {id:'c007',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ø§Ø³Ù†ÙŠÙƒØ±Ø²',price:80},
  {id:'c008',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ù…ÙˆØ±Ùˆ',price:75},
  {id:'c009',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ø´ÙˆÙƒÙ„Øª',price:75},
  {id:'c010',cat:'cold',name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ù†ÙŠÙ€Ù€Ùˆ (Ù…ÙˆØ±Ùˆ/Ù‡ÙˆÙ‡ÙˆØ²/Ø£ÙˆØ±ÙŠÙˆ)',price:85},

  /* Ø§ÙŠØ³ */
  {id:'ice01',cat:'cold',name:'Ø¢ÙŠØ³ Ù„Ø§ØªÙŠÙ‡',price:50},
  {id:'ice02',cat:'cold',name:'Ø¢ÙŠØ³ ÙƒÙˆÙÙŠ',price:50},
  {id:'ice03',cat:'cold',name:'Ø¢ÙŠØ³ Ø£Ù…ÙŠØ±ÙƒØ§Ù†',price:45},
  {id:'ice04',cat:'cold',name:'ÙØ±Ø§Ø¨ØªØ´ÙŠÙ†Ùˆ - Ø´ÙˆÙƒÙ„ÙŠØª',price:60},
  {id:'ice05',cat:'cold',name:'ÙØ±Ø§Ø¨ØªØ´ÙŠÙ†Ùˆ - ÙƒØ±Ø§Ù…ÙŠÙ„',price:60},
  {id:'ice06',cat:'cold',name:'ÙØ±Ø§Ø¨ØªØ´ÙŠÙ†Ùˆ - Ø£ÙˆØ±ÙŠÙˆ',price:60},
  {id:'ice07',cat:'cold',name:'ÙØ±Ø§Ø¨ØªØ´ÙŠÙ†Ùˆ - Ø§Ø³Ù†ÙŠÙƒØ±Ø²',price:65},
  {id:'ice08',cat:'cold',name:'Ø¢ÙŠØ³ Ø³Ø¨Ø§Ù†Ø´ Ù„Ø§ØªÙŠÙ‡',price:60},

  /* ÙØ±ÙŠØ´ */
  {id:'f001',cat:'cold',name:'ÙØ±ÙŠØ´ Ù…Ø§Ù†Ø¬Ùˆ',price:55},
  {id:'f002',cat:'cold',name:'ÙØ±ÙŠØ´ ÙØ±Ø§ÙˆÙ„Ø©',price:55},
  {id:'f003',cat:'cold',name:'ÙØ±Ø§ÙˆÙ„Ø© Ù„Ø¨Ù†',price:55},
  {id:'f004',cat:'cold',name:'Ù…ÙˆØ² Ù„Ø¨Ù†',price:55},
  {id:'f005',cat:'cold',name:'Ø¨Ù„Ø­',price:45},
  {id:'f006',cat:'cold',name:'Ø¨Ø·ÙŠØ®',price:50},
  {id:'f007',cat:'cold',name:'Ø¨Ø±ØªÙ‚Ø§Ù„',price:45},
  {id:'f008',cat:'cold',name:'ÙƒÙŠÙˆÙŠ (Ù…ÙˆØ³Ù…ÙŠ)',price:60},
  {id:'f009',cat:'cold',name:'Ø£ÙÙˆØºØ§ØªÙˆØ§',price:65},
  {id:'f010',cat:'cold',name:'Ø¬ÙˆØ§ÙØ©',price:50},
  {id:'f011',cat:'cold',name:'Ù†ÙŠÙˆ Ø£ÙÙˆØ¬Ø§ØªÙˆ/Ø¹Ø³Ù„/Ù…ÙƒØ³Ø±Ø§Øª/Ù…Ø§Ù†Ø¬Ùˆ/Ù…ÙˆØ²',price:70},
  {id:'f012',cat:'cold',name:'ÙØ±ÙŠØ´ ÙƒÙˆÙƒØªÙŠÙ„',price:75},
  {id:'f013',cat:'cold',name:'ÙƒÙˆÙƒØªÙŠÙ„ Ù‚Ø·Ø¹',price:80},

  /* Ø³Ù…ÙˆØ«ÙŠ */
  {id:'s001',cat:'cold',name:'Ø³Ù’Ù…ÙˆØ²ÙŠ ÙØ±Ø§ÙˆÙ„Ø©',price:65},
  {id:'s002',cat:'cold',name:'Ø³Ù’Ù…ÙˆØ²ÙŠ Ù…Ø§Ù†Ø¬Ùˆ',price:65},
  {id:'s003',cat:'cold',name:'Ø³Ù’Ù…ÙˆØ²ÙŠ Ø£Ù†Ø§Ù†Ø§Ø³',price:65},
  {id:'s004',cat:'cold',name:'Ø³Ù’Ù…ÙˆØ²ÙŠ Ø®ÙˆØ®',price:65},
  {id:'s005',cat:'cold',name:'Ø³Ù’Ù…ÙˆØ²ÙŠ ÙƒÙŠÙˆÙŠ',price:65},
  {id:'s006',cat:'cold',name:'Ø³Ù’Ù…ÙˆØ²ÙŠ Ø¨Ø·ÙŠØ®',price:65},
  {id:'s007',cat:'cold',name:'Ø³Ù’Ù…ÙˆØ²ÙŠ Ø¨Ù„ÙˆØ¨Ø±ÙŠ',price:75},

  /* ØµÙˆØ¯Ø§ */
  {id:'sd01',cat:'soft',name:'Ø¨Ù„ÙˆØ¨Ø±ÙŠ ØµÙˆØ¯Ø§',price:40},
  {id:'sd02',cat:'soft',name:'Ø¨Ù„Ùˆ ØµÙˆØ¯Ø§',price:40},
  {id:'sd03',cat:'soft',name:'Ø¨Ø±Ø§Ù†Ø¯ÙŠØª ØµÙˆØ¯Ø§',price:40},
  {id:'sd04',cat:'soft',name:'ÙØ±Ø§ÙˆÙ„Ø© ØµÙˆØ¯Ø§',price:40},
  {id:'sd05',cat:'soft',name:'Ø£Ù†Ø§Ù†Ø§Ø³ ØµÙˆØ¯Ø§',price:40},
  {id:'sd06',cat:'soft',name:'Ø®ÙˆØ® ØµÙˆØ¯Ø§',price:40},
  {id:'sd07',cat:'soft',name:'Ù…ÙˆØ®ÙŠØªÙˆ',price:45},
  {id:'sd08',cat:'soft',name:'Ù…ÙˆØ®ÙŠØªÙˆ Ø£Ù†Ø§Ù†Ø§Ø³',price:45},
  {id:'sd09',cat:'soft',name:'Ù…ÙˆØ®ÙŠØªÙˆ ÙØ±Ø§ÙˆÙ„Ø©',price:45},
  {id:'sd10',cat:'soft',name:'Ù…ÙˆØ®ÙŠØªÙˆ Ø¨Ù„ÙˆØ¨Ø±ÙŠ',price:45},

  /* Ø³ÙˆÙØª Ø¯Ø±ÙŠÙ†Ùƒ (Ø¨Ù…Ø§ ÙÙŠÙ‡Ø§ Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø·Ø§Ù‚Ø© ÙˆÙ…Ø¹Ù„Ø¨Ø§Øª) */
  {id:'soft01',cat:'soft',name:'V-Cola Soda',price:30},
  {id:'soft02',cat:'soft',name:'V-Cola Cola',price:30},
  {id:'soft03',cat:'soft',name:'V-Cola Diet',price:30},
  {id:'soft04',cat:'soft',name:'Red Bull - Ø±ÙŠØ¯ Ø¨ÙˆÙ„',price:65},
  {id:'soft05',cat:'soft',name:'Twist - ØªÙˆÙŠØ³Øª',price:30},
  {id:'soft06',cat:'soft',name:'Schweppes - Ø´ÙˆÙŠØ¨Ø³',price:28},
  {id:'soft07',cat:'soft',name:'ÙƒÙˆÙƒØ§ÙƒÙˆÙ„Ø§ (Ù…Ø¹Ù„Ø¨)',price:28},
  {id:'soft08',cat:'soft',name:'ÙƒÙˆÙƒØ§ÙƒÙˆÙ„Ø§ Ø¯Ø§ÙŠØª',price:28},
  {id:'soft09',cat:'soft',name:'Ø¨ÙŠØ¨Ø³ÙŠ',price:28},
  {id:'soft10',cat:'soft',name:'Ø³Ø¨Ø±Ø§ÙŠØª',price:28},
  {id:'soft11',cat:'soft',name:'ÙØ§Ù†ØªØ§',price:28},

  /* Ø¯ÙŠØ²ÙŠØ±Øª */
  {id:'dess01',cat:'dessert_dishes',name:'ÙˆØ§ÙÙ„ ÙƒÙ„Ø§Ø³ÙŠÙƒ',price:55},
  {id:'dess02',cat:'dessert_dishes',name:'ÙˆØ§ÙÙ„ Ù†ÙˆØªÙŠÙ„Ø§',price:75},
  {id:'dess03',cat:'dessert_dishes',name:'ÙˆØ§ÙÙ„ Ø£ÙˆØ±ÙŠÙˆ',price:70},
  {id:'dess04',cat:'dessert_dishes',name:'ÙˆØ§ÙÙ„ Ù„ÙˆØªØ³',price:70},
  {id:'dess05',cat:'dessert_dishes',name:'ÙˆØ§ÙÙ„ Ø¨Ø³ØªØ§Ø´ÙŠÙˆ',price:80},
  {id:'dess06',cat:'dessert_dishes',name:'ÙˆØ§ÙÙ„ ÙÙˆØ§ÙƒÙ‡',price:85},
  {id:'dess07',cat:'dessert_dishes',name:'Ù…ÙˆÙ„ØªÙ†',price:90},
  {id:'dess08',cat:'dessert_dishes',name:'ØªØ´ÙŠØ² ÙƒÙŠÙƒ',price:95},
  {id:'dess09',cat:'dessert_dishes',name:'Ø´ÙˆÙƒÙ„ÙŠØª ÙƒÙŠÙƒ',price:95},

  /* Ù…Ù…ÙŠØ² Ù†ÙŠÙˆ */
  {id:'sp01',cat:'special',name:'Ø¨Ø·Ø§Ø·Ø§ ÙÙˆØ§ÙƒÙ‡ ÙˆÙ…ÙƒØ³Ø±Ø§Øª ÙˆØ¹Ø³Ù„',price:65},
  {id:'sp02',cat:'special',name:'Ø§Ù†Ø¯ÙˆÙ…ÙŠ Ø¨Ù‚Ø·Ø¹ Ø§Ù„ÙØ±Ø§Ø® Ø¨ØªØªØ¨ÙŠÙ„Ø© Ù†ÙŠÙˆ',price:55},
  {id:'sp03',cat:'special',name:'ÙƒÙˆÙƒØªÙŠÙ„ Ù†ÙŠÙˆ Ø§Ù„Ù…Ù…ÙŠØ²',price:120},

  /* Ø³ÙˆÙØª Ø¯Ø±ÙŠÙ†Ùƒ Ø§Ø¶Ø§ÙÙŠ / Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¬Ø§Ù‡Ø²Ø© ÙÙŠ Ø§Ù„ØªÙ„Ø§Ø¬Ø© */
  {id:'fr01',cat:'soft',name:'Ø±ÙŠØ¯ Ø¨ÙˆÙ„ (Ø¹Ù„Ø¨Ø©)',price:65},
  {id:'fr02',cat:'soft',name:'ØªÙˆÙŠØ³Øª (Ø¹Ù„Ø¨Ø©)',price:30},
  {id:'fr03',cat:'soft',name:'Ø´ÙˆÙŠØ¨Ø³ (Ø¹Ù„Ø¨Ø©)',price:28},

  /* Ø¯Ù„Ø¹ Ù†ÙØ³Ùƒ ÙÙŠ Ù†ÙŠÙˆ - Ù…Ø¬Ø§Ù†Ù‹Ø§ (Ø£Ù„Ø¹Ø§Ø¨) */
  {id:'g01',cat:'fun',name:'Ù„Ø¹Ø¨Ø© Ø¯ÙˆÙ…ÙŠÙ†Ùˆ',price:0},
  {id:'g02',cat:'fun',name:'ÙƒÙˆØªØ´ÙŠÙ†Ø© (ÙƒÙˆØªØ´ÙŠÙ†Ù‡)',price:0},
  {id:'g03',cat:'fun',name:'Ù‚ÙˆÙ„ Ø£Ù…Ù‘ÙÙ…',price:0},
  {id:'g04',cat:'fun',name:'Ø´Ø·Ø±Ù†Ø¬',price:0},
  {id:'g05',cat:'fun',name:'Ø§ÙØªØ­ ØªÙˆØ¨ÙŠÙƒ',price:0}
];

/* ====== Storage helpers ====== */
function loadCart(){ try{ const d = localStorage.getItem(CART_KEY); return d ? JSON.parse(d) : []; } catch(e){ return []; } }
function saveCart(cart){ try{ localStorage.setItem(CART_KEY, JSON.stringify(cart)); renderCartUI(true); } catch(e){ console.error(e); } }

/* ====== DOM refs ====== */
const content = document.getElementById('content');
const cartBtn = document.getElementById('cartBtn');
const cartBadge = document.getElementById('cartBadge');
const cartTotal = document.getElementById('cartTotal');
const cartModal = document.getElementById('cartModal');
const cartItemsEl = document.getElementById('cartItems');
const modalTotal = document.getElementById('modalTotal');
const closeCartBtn = document.getElementById('closeCartBtn');
const clearCartBtn = document.getElementById('clearCartBtn');
const checkoutNowBtn = document.getElementById('checkoutNowBtn');
const toast = document.getElementById('toast');

/* ====== Utility ====== */
function escapeHtml(s){ return String(s||'').replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }
function calcTotals(cart){ let total=0,count=0; (cart||[]).forEach(i=>{ total += (Number(i.price)||0)*(Number(i.qty)||0); count += Number(i.qty)||0; }); return { total, count }; }
function showToast(text){ toast.textContent = text; toast.style.opacity = '1'; clearTimeout(toast._h); toast._h = setTimeout(()=> toast.style.opacity='0', 1100); }

/* ====== Render category & grid ====== */
function renderCategory(cat){
  content.innerHTML='';
  const title = document.createElement('div'); title.className='section-title';
  let itemsToShow=[];
  if(cat==='all'){ title.textContent='ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª'; itemsToShow = MENU.slice(); }
  else { const map={'hot':'Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø³Ø§Ø®Ù†Ø©','cold':'Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø©','soft':'Ø³ÙˆÙØª Ø¯Ø±ÙŠÙ†Ùƒ','dessert_dishes':'Ø¯ÙŠØ²ÙŠØ±Øª','special':'Ù…Ù…ÙŠØ² Ù†ÙŠÙˆ','fun':'Ø¯Ù„Ø¹ Ù†ÙØ³Ùƒ ÙÙŠ Ù†ÙŠÙˆ - Ù…Ø¬Ø§Ù†Ù‹Ø§'}; title.textContent = map[cat]||cat; itemsToShow = MENU.filter(i=>i.cat===cat); }
  content.appendChild(title);
  const grid = document.createElement('div'); grid.className='grid';
  itemsToShow.forEach(it=>{
    const priceLabel = it.price === 0 ? 'Ù…Ø¬Ø§Ù†Ù‹Ø§' : (it.price + ' Ø¬');
    const card = document.createElement('div'); card.className='card';
    card.innerHTML = `
      <img class="thumb" src="https://via.placeholder.com/600x400?text=${encodeURIComponent(it.name)}" alt="${escapeHtml(it.name)}">
      <div class="info">
        <div>
          <div class="product-title">${escapeHtml(it.name)}</div>
          <div class="price-row">
            <div class="price">${priceLabel}</div>
          </div>
        </div>
        <div class="actions">
          <button class="btn btn-outline view-btn" data-id="${it.id}">Ø¹Ø±Ø¶</button>
          <button class="btn btn-primary add-btn" data-id="${it.id}">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
        </div>
      </div>
    `;
    grid.appendChild(card);
  });
  content.appendChild(grid);

  // update active classes
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.tab-all').forEach(t=>t.classList.remove('active'));
  if(cat==='all') document.querySelector('.tab-all').classList.add('active');
  else { const activeTab = document.querySelector(`.tab[data-cat="${cat}"]`); if(activeTab) activeTab.classList.add('active'); }
}

/* ====== Add / view handlers (ÙÙˆØ±ÙŠØ©ØŒ Ø¨Ø¯ÙˆÙ† delay) ====== */
document.addEventListener('click', function(e){
  const add = e.target.closest('.add-btn');
  if(add){ handleAddById(add.dataset.id); return; }
  const view = e.target.closest('.view-btn');
  if(view){ viewDetails(view.dataset.id); return; }
});

/* Very fast add: no locks, no blocking alerts (allow unlimited quick taps) */
function handleAddById(id){
  const item = MENU.find(i=>i.id===id);
  if(!item){ showToast('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯'); return; }
  const cart = loadCart();
  const exist = cart.find(x=>x.id===id);
  if(exist){ exist.qty = Number(exist.qty) + 1; }
  else { cart.push({...item, qty:1}); }
  saveCart(cart);
  renderCartModal(); // update modal if open
  showToast(`${item.name} Ø§ØªØ¶Ø§Ù Ù„Ù„Ø³Ù„Ø©`);
}

/* view details quick toast */
function viewDetails(id){
  const item = MENU.find(i=>i.id===id);
  if(!item) return showToast('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
  const label = item.price === 0 ? 'Ù…Ø¬Ø§Ù†Ù‹Ø§' : `${item.price} Ø¬`;
  showToast(`${item.name} â€” ${label}`);
}

/* ====== Cart UI ====== */
function renderCartUI(wasAdded=false){
  const cart = loadCart();
  if(!cart || cart.length === 0){ cartBadge.style.display = 'none'; cartTotal.textContent = '0 Ø¬'; return; }
  const { total, count } = calcTotals(cart);
  cartBadge.style.display = 'flex';
  cartBadge.textContent = count;
  cartTotal.textContent = `${total} Ø¬`;
  if(wasAdded){
    cartBtn.classList.add('bump');
    setTimeout(()=> cartBtn.classList.remove('bump'), 900);
  }
}

function renderCartModal(){
  const cart = loadCart();
  cartItemsEl.innerHTML = '';
  if(!cart || cart.length === 0){
    cartItemsEl.innerHTML = `<div style="padding:12px;text-align:center;color:var(--muted);font-weight:700">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© â€” Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ù…Ù†ÙŠÙˆ</div>`;
    modalTotal.textContent = '0 Ø¬';
    cartModal.classList.add('show');
    cartModal.setAttribute('aria-hidden','false');
    return;
  }
  cart.forEach(it=>{
    const row = document.createElement('div');
    row.className = 'item';
    row.innerHTML = `
      <div style="display:flex;gap:10px;align-items:center;justify-content:space-between">
        <div style="display:flex;gap:10px;align-items:center">
          <img src="https://via.placeholder.com/140x90?text=${encodeURIComponent(it.name)}" alt="${escapeHtml(it.name)}" style="width:72px;height:52px;border-radius:8px;object-fit:cover">
          <div>
            <div style="font-weight:900">${escapeHtml(it.name)}</div>
            <div style="color:var(--muted);font-size:13px">${it.price === 0 ? 'Ù…Ø¬Ø§Ù†Ù‹Ø§' : it.price + ' Ø¬'} Ù„ÙƒÙ„ ÙˆØ­Ø¯Ø©</div>
          </div>
        </div>
        <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
          <div style="display:flex;align-items:center;gap:6px">
            <button class="dec" data-id="${it.id}">âˆ’</button>
            <div style="padding:6px 8px;border-radius:8px;background:#f4f4f4;font-weight:800">${it.qty}</div>
            <button class="inc" data-id="${it.id}">+</button>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <div style="font-weight:900;color:var(--neo-green)">${(it.price*it.qty)} Ø¬</div>
            <button class="remove" data-id="${it.id}" style="background:transparent;border:0;color:#c33;cursor:pointer">Ø­Ø°Ù</button>
          </div>
        </div>
      </div>
    `;
    cartItemsEl.appendChild(row);
  });

  // handlers (ÙÙˆØ±ÙŠØ©)
  cartItemsEl.querySelectorAll('.inc').forEach(b=> b.addEventListener('click', e=>{
    const id = e.currentTarget.dataset.id; let cart = loadCart();
    const it = cart.find(x=>x.id===id); if(it){ it.qty = Number(it.qty)+1; saveCart(cart); renderCartModal(); }
  }));
  cartItemsEl.querySelectorAll('.dec').forEach(b=> b.addEventListener('click', e=>{
    const id = e.currentTarget.dataset.id; let cart = loadCart();
    const it = cart.find(x=>x.id===id); if(it){
      it.qty = Number(it.qty)-1;
      if(it.qty <= 0) cart = cart.filter(x=>x.id!==id);
      saveCart(cart); renderCartModal();
    }
  }));
  cartItemsEl.querySelectorAll('.remove').forEach(b=> b.addEventListener('click', e=>{
    const id = e.currentTarget.dataset.id; let cart = loadCart();
    cart = cart.filter(x=>x.id!==id); saveCart(cart); renderCartModal();
  }));

  const totals = calcTotals(cart);
  modalTotal.textContent = `${totals.total} Ø¬`;
}

/* open/close cart modal */
function openCartModal(){ renderCartModal(); cartModal.classList.add('show'); cartModal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
function closeCartModal(){ cartModal.classList.remove('show'); cartModal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }
cartBtn.addEventListener('click', ()=> openCartModal() );
closeCartBtn.addEventListener('click', ()=> closeCartModal() );

/* clear cart */
clearCartBtn.addEventListener('click', ()=>{
  if(confirm('ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©ØŸ')){
    localStorage.removeItem(CART_KEY);
    renderCartUI();
    renderCartModal();
  }
});

/* checkout redirect */
checkoutNowBtn.addEventListener('click', ()=>{
  const cart = loadCart();
  if(!cart || cart.length===0){ showToast('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); return; }
  window.location.href = 'checkout.html';
});

/* tabs handlers */
document.querySelectorAll('.tab').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    btn.classList.add('active');
    renderCategory(btn.dataset.cat);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
});
document.querySelector('.tab-all').addEventListener('click', ()=>{
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelector('.tab-all').classList.add('active');
  renderCategory('all');
  window.scrollTo({ top: 0, behavior: 'smooth' });
});

/* init */
renderCategory('all');
renderCartUI(false);

/* sync across tabs */
window.addEventListener('storage', (e)=>{ if(e.key===CART_KEY) renderCartUI(); });

</script>
</body>
</html>
