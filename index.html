<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© - Ø§Ù„Ù…Ù†ÙŠÙˆ Ø§Ù„Ø´Ø§Ù…Ù„</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --neo-green:#124d33;
  --neo-dark:#0a2e1e;
  --neo-gold:#d4af37; 
  --neo-beige:#fdfbf7;
  --muted:#6b6b6b;
  --shadow: 0 18px 40px rgba(18,77,51,0.06);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:var(--neo-beige);
  font-family:"Cairo",sans-serif;
  color:#0b0b0b;
  line-height:1.4;
  background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  -webkit-tap-highlight-color: transparent;
}

/* RAMADAN LANTERNS (Animated & Glowing) */
.lantern-container { position: absolute; top: 0; left: 0; width: 100%; height: 120px; overflow: hidden; z-index: 1; pointer-events: none; }
.lantern { position: absolute; width: 28px; height: 38px; background: var(--neo-gold); border-radius: 6px; box-shadow: 0 0 18px var(--neo-gold); animation: swing 3s infinite ease-in-out alternate, pulseGlow 2s infinite alternate; transform-origin: top center; z-index: 1; border: 1px solid rgba(255,255,255,0.4);}
.lantern::before { content:''; position:absolute; top:-120px; left:13px; width:2px; height:120px; background: rgba(255,255,255,0.3); }
.l1 { left: 8%; top: 10px; animation-duration: 3.2s; }
.l2 { left: 28%; top: -15px; animation-duration: 2.7s; transform: scale(0.85); background: var(--neo-green); box-shadow: 0 0 15px var(--neo-green); border-color: var(--neo-gold);}
.l3 { left: 50%; top: 5px; animation-duration: 3.5s; }
.l4 { left: 72%; top: -10px; animation-duration: 2.9s; transform: scale(0.9); }
.l5 { left: 90%; top: 15px; animation-duration: 3.1s; transform: scale(0.8); background: var(--neo-green); box-shadow: 0 0 15px var(--neo-green); border-color: var(--neo-gold);}

@keyframes swing { 0% { transform: rotate(8deg); } 100% { transform: rotate(-8deg); } }
@keyframes pulseGlow { 0% { opacity: 0.8; } 100% { opacity: 1; box-shadow: 0 0 25px var(--neo-gold); } }

/* HEADER */
.header{
  background: linear-gradient(180deg, var(--neo-dark), var(--neo-green));
  padding: 25px 14px 20px; text-align:center; color: #fff;
  border-bottom-left-radius: 25px; border-bottom-right-radius: 25px;
  position: relative; box-shadow: 0 10px 20px rgba(18,77,51,0.2);
}
.header h1{ color:var(--neo-gold); font-weight:900; font-size:24px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); position: relative; z-index: 2;}
.ramadan-slogan { background: rgba(212, 175, 55, 0.2); color: var(--neo-gold); display: inline-block; padding: 4px 15px; border-radius: 20px; font-size: 13px; font-weight: 700; margin-top: 5px; border: 1px solid var(--neo-gold); position: relative; z-index: 2;}

.logo-container {
  position: relative; margin: 0 auto 10px; width: 80px; height: 80px;
  display: flex; align-items: center; justify-content: center; z-index: 10;
}
.logo-container::before {
  content: ''; position: absolute; inset: -4px; border-radius: 50%;
  border: 2px solid transparent; border-top-color: var(--neo-gold); border-right-color: var(--neo-gold);
  transform: rotate(-45deg); animation: rotateRing 3s linear infinite;
}
@keyframes rotateRing { 100% { transform: rotate(315deg); } }
.logo{ width: 100%; height: 100%; object-fit: cover; border-radius: 50%; background: #fff; padding: 3px; position: relative; z-index: 2; box-shadow: 0 5px 15px rgba(0,0,0,0.3);}

/* CATEGORIES GRID */
.cats-grid{ display:flex; flex-direction:column; gap:10px; padding:20px 12px 10px; align-items:center; }
.cats-row{ display:flex; gap:10px; overflow-x:auto; justify-content:center; width: 100%; padding-bottom: 5px; }
.cat{
  flex:0 0 auto; background:#fff; border-radius:999px; padding:12px 18px;
  border:2px solid var(--neo-gold); font-weight:800; color:var(--neo-green);
  cursor:pointer; white-space:nowrap; box-shadow: 0 6px 15px rgba(0,0,0,0.05); transition: 0.3s; font-size: 15px;
}
.cat.active{ background:linear-gradient(45deg,var(--neo-green),var(--neo-dark)); color:var(--neo-gold); border-color: var(--neo-dark); box-shadow:0 15px 30px rgba(18,77,51,0.2); transform: translateY(-2px);}

/* SUBCATEGORIES NAV (For Cold Drinks) */
.subcats-nav { display:flex; gap:8px; overflow-x:auto; padding-bottom:10px; margin-bottom:15px; }
.subcats-nav::-webkit-scrollbar { height: 4px; }
.subcats-nav::-webkit-scrollbar-thumb { background: var(--neo-gold); border-radius: 4px; }
.subcat-btn { background:#fff; border:1px solid var(--neo-gold); color:var(--neo-green); padding:8px 16px; border-radius:20px; font-weight:800; font-family:inherit; cursor:pointer; white-space:nowrap; transition:0.2s; font-size: 14px; box-shadow: 0 4px 10px rgba(0,0,0,0.03);}
.subcat-btn.active { background:var(--neo-green); color:var(--neo-gold); border-color:var(--neo-dark); }

/* GRID & CARDS */
.container { max-width: 1000px; margin: auto; padding: 10px 15px 150px; }
.section-container { display: none; animation: fadeIn 0.4s ease; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.section-title { color: var(--neo-green); font-weight: 900; font-size: 22px; margin: 15px 0 20px; text-align: right; display: flex; align-items: center; gap: 8px; }
.section-title::before { content: 'ğŸŒ™'; font-size: 18px; }

/* 2 Items Per Row Guaranteed */
.grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }

.card { background: #fff; border-radius: 15px; padding: 10px; box-shadow: var(--shadow); border: 1px solid rgba(212,175,55,0.2); display: flex; flex-direction: column; transition: transform 0.2s; }
.card:hover { transform: translateY(-5px); border-color: var(--neo-gold); }
.card img { width: 100%; height: 140px; object-fit: cover; border-radius: 12px; margin-bottom: 10px; background: #f9f9f9; }
.card-name { font-weight: 800; font-size: 14px; color: var(--neo-dark); line-height: 1.3; flex-grow: 1; }
.card-price { color: var(--neo-green); font-weight: 900; font-size: 15px; margin: 8px 0; }
.add-btn { background: var(--neo-green); color: var(--neo-gold); border: none; padding: 10px; border-radius: 10px; font-weight: 800; cursor: pointer; width: 100%; font-size: 13px; box-shadow: 0 5px 15px rgba(18,77,51,0.1); }

/* CART */
.cart-float { position: fixed; right: 15px; bottom: 15px; z-index: 1000; }
.cart-trigger { background: var(--neo-green); color: var(--neo-gold); padding: 15px 20px; border-radius: 20px; display: flex; align-items: center; gap: 12px; box-shadow: 0 15px 40px rgba(18,77,51,0.3); border: 2px solid var(--neo-gold); cursor: pointer; font-size: 16px; }
.cart-count { background: var(--neo-gold); color: #000; padding: 4px 12px; border-radius: 999px; font-weight: 900; }
.modal-back { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: none; z-index: 2000; align-items: center; justify-content: center; padding: 15px; backdrop-filter: blur(5px); }
.modal { background: #fff; width: 100%; max-width: 500px; border-radius: 20px; padding: 20px; max-height: 85vh; overflow-y: auto; direction: rtl; }
.cart-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
.toast { position: fixed; bottom: 90px; left: 50%; transform: translateX(-50%); background: var(--neo-dark); color: var(--neo-gold); padding: 12px 25px; border-radius: 50px; font-weight: 800; opacity: 0; transition: 0.3s; z-index: 3000; pointer-events: none; box-shadow: 0 10px 20px rgba(0,0,0,0.2); }

/* FOOTER */
footer { padding: 25px 15px; text-align: center; color: #fff; background: var(--neo-dark); border-top-left-radius: 25px; border-top-right-radius: 25px; margin-top: 30px; box-shadow: 0 -10px 20px rgba(0,0,0,0.1); }
.footer-socials { display: flex; gap: 15px; justify-content: center; margin-bottom: 15px; }
.footer-socials a { padding: 10px 20px; border-radius: 12px; color: var(--neo-dark); background: var(--neo-gold); font-weight: 900; text-decoration: none; transition: 0.2s; }
.footer-socials a:hover { transform: scale(1.05); }

/* MOBILE ADJUSTMENTS (Maintains 2 columns) */
@media (max-width: 480px) {
  .cats-row { justify-content: flex-start; } 
  .card { padding: 8px; }
  .card img { height: 110px; margin-bottom: 8px; }
  .card-name { font-size: 12px; }
  .card-price { font-size: 14px; margin: 5px 0; }
  .add-btn { font-size: 12px; padding: 8px; }
}
</style>
</head>
<body>

<div class="lantern-container">
  <div class="lantern l1"></div><div class="lantern l2"></div><div class="lantern l3"></div><div class="lantern l4"></div><div class="lantern l5"></div>
</div>

<header class="header">
  <div class="logo-container">
    <img src="assets/images/logo.png" alt="NEO Cafe" class="logo" onerror="this.style.opacity='0'">
  </div>
  <h1>Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© - NEO CAFE</h1>
  <div class="ramadan-slogan">âœ¨ Ø±Ù…Ø¶Ø§Ù†Ùƒ Ø¬Ù…ÙŠÙ„ ÙÙŠ Ù†ÙŠÙˆ âœ¨</div>
</header>

<div class="cats-grid">
  <div class="cats-row">
    <div class="cat active" data-cat="ramadan" style="background:#fff9e6; color:var(--neo-dark)">ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† ÙÙŠ Ù†ÙŠÙˆ</div>
    <div class="cat" data-cat="hot">Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø³Ø§Ø®Ù†Ø©</div>
    <div class="cat" data-cat="cold">Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø©</div>
  </div>
  <div class="cats-row">
    <div class="cat" data-cat="soft">Ø³ÙˆÙØª Ø¯Ø±ÙŠÙ†Ùƒ</div>
    <div class="cat" data-cat="dessert">Ø£Ø·Ø¨Ø§Ù‚ Ø¯ÙŠØ²ÙŠØ±Øª</div>
    <div class="cat" data-cat="special">Ù…Ù…ÙŠØ² Ù†ÙŠÙˆ</div>
  </div>
  <div class="cats-row">
    <div class="cat" data-cat="ice">Ø§ÙŠØ³ ÙƒØ±ÙŠÙ…</div>
    <div class="cat" data-cat="extras">Ø¥Ø¶Ø§ÙØ§Øª</div>
    <div class="cat" data-cat="fun">Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¬Ø§Ù†ÙŠØ©</div>
  </div>
</div>

<main class="container" id="menuContent"></main>

<div class="cart-float">
  <div class="cart-trigger" onclick="openCart()">
    <div class="cart-count" id="cartCount">0</div>
    <div style="font-weight: 900;">Ø§Ù„Ø³Ù„Ø©</div>
  </div>
</div>

<div id="cartModal" class="modal-back">
  <div class="modal">
    <h2 style="color:var(--neo-green); margin-bottom:15px; font-weight:900;">Ø·Ù„Ø¨Ø§ØªÙƒ Ø§Ù„Ù…ØªÙ…ÙŠØ²Ø© ğŸŒ™</h2>
    <div id="cartList"></div>
    <div id="finalTotal" style="text-align:center; font-weight:900; font-size:20px; margin:20px 0; color:var(--neo-dark);"></div>
    <div style="display:flex; gap:10px">
      <button onclick="closeCart()" style="flex:1; padding:12px; border-radius:12px; border:none; background: #eee; color:#333; font-weight:800; cursor:pointer;">Ø¥ØºÙ„Ø§Ù‚</button>
      <button onclick="sendOrder()" style="flex:2; padding:12px; border-radius:12px; background:var(--neo-green); color:var(--neo-gold); font-weight:900; border:none; cursor:pointer;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ğŸŸ¢</button>
    </div>
  </div>
</div>

<div id="toast" class="toast">ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­</div>

<footer>
  <div style="font-weight:900; margin-bottom:12px; color:var(--neo-gold); font-size:18px;">ØªØ§Ø¨Ø¹Ù†Ø§ ÙÙŠ Ø±Ù…Ø¶Ø§Ù†</div>
  <div class="footer-socials">
    <a href="https://facebook.com/neo.cafe.eg" target="_blank">Facebook</a>
    <a href="https://instagram.com/neocafe.eg" target="_blank">Instagram</a>
    <a href="https://tiktok.com/@neo.cafe.eg" target="_blank">TikTok</a>
  </div>
  <div style="font-weight:700; font-size:14px; opacity:0.9;">â¤ï¸ Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±ÙƒÙ… Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© â€” Ø­Ø¨ ÙˆØªÙ…ÙŠÙŠØ² Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù†ÙŠÙˆ Ø¯Ø§Ø¦Ù…Ø§Ù‹</div>
</footer>

<script>
const MENU_DATA = {
  ramadan: { title: "âœ¨ Ø±Ù…Ø¶Ø§Ù† ÙÙŠ Ù†ÙŠÙˆ âœ¨", items: [
    {id:'ram_01', name:'Ø±Ø² Ø¨Ù„Ø¨Ù† Ù…ÙƒØ³Ø±Ø§Øª', price:40, img:'assets/images/ram_rice_nuts.png'},
    {id:'ram_02', name:'Ø±Ø² Ø¨Ù„Ø¨Ù† Ù…ÙƒØ³Ø±Ø§Øª ÙˆÙƒØ±Ø§Ù…ÙŠÙ„', price:45, img:'assets/images/ram_rice_caramel.png'},
    {id:'ram_03', name:'Ø±Ø² Ø¨Ù„Ø¨Ù† Ù…ÙƒØ³Ø±Ø§Øª ÙˆØ´ÙˆÙƒÙ„Ø§ØªÙ‡', price:45, img:'assets/images/ram_rice_choco.png'},
    {id:'ram_04', name:'Ø±Ø² Ø¨Ù„Ø¨Ù† Ù…ÙƒØ³Ø±Ø§Øª Ù†ÙˆØªÙŠÙ„Ø§', price:55, img:'assets/images/ram_rice_nutella.png'},
    {id:'ram_05', name:'Ø±Ø² Ø¨Ù„Ø¨Ù† Ù…ÙƒØ³Ø±Ø§Øª Ø¨Ø³ØªØ§Ø´ÙŠÙˆ', price:60, img:'assets/images/ram_rice_pistachio.png'},
    {id:'ram_06', name:'Ø±Ø² Ø¨Ù„Ø¨Ù† Ù…ÙƒØ³Ø±Ø§Øª Ù„ÙˆØªØ³', price:55, img:'assets/images/ram_rice_lotus.png'},
    {id:'ram_07', name:'Ø±Ø² Ø¨Ù„Ø¨Ù† Ù…ÙƒØ³Ø±Ø§Øª Ù…ÙŠÙƒØ³ ØµÙˆØµ', price:75, img:'assets/images/ram_rice_mix.png'},
    {id:'ram_08', name:'Ø±Ø² Ø¨Ù„Ø¨Ù† Ù…ÙƒØ³Ø±Ø§Øª + ÙÙˆØ§ÙƒÙ‡ + ØµÙˆØµ', price:85, img:'assets/images/ram_rice_fruit.png'},
    {id:'ram_09', name:'ÙƒÙØ¨ ÙƒÙ†Ø§ÙÙ‡ Ù„ÙˆØªØ³', price:85, img:'assets/images/ram_cup_lotus.png'},
    {id:'ram_10', name:'ÙƒÙØ¨ ÙƒÙ†Ø§ÙÙ‡ Ù†ÙˆØªÙŠÙ„Ø§', price:85, img:'assets/images/ram_cup_nutella.png'},
    {id:'ram_11', name:'ÙØ§Ø¯Ø¬ ÙƒØ±Ø§Ù†Ø´ÙŠ Ù†ÙˆØªÙŠÙ„Ø§', price:95, img:'assets/images/ram_fudge_crunchy.png'},
    {id:'ram_12', name:'ÙØ§Ø¯Ø¬ ÙƒÙ†Ø§ÙØ© Ù†ÙˆØªÙŠÙ„Ø§ Ø¨Ø³ØªØ§Ø´ÙŠÙˆ', price:110, img:'assets/images/ram_fudge_pistachio.png'}
  ]},
  hot: { title: "Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø³Ø§Ø®Ù†Ø©", items: [
    {id:'hot_01', name:'Ø´Ø§ÙŠ', price:15, img:'assets/images/hot_shai.png'},
    {id:'hot_02', name:'Ø´Ø§ÙŠ Ø£Ø­Ù…Ø¯ ØªÙŠ', price:20, img:'assets/images/hot_shai_lipton.png'},
    {id:'hot_03', name:'Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø±', price:20, img:'assets/images/hot_green_tea.png'},
    {id:'hot_04', name:'Ø´Ø§ÙŠ Ø­Ù„ÙŠØ¨', price:20, img:'assets/images/hot_tea_milk.png'},
    {id:'hot_05', name:'Ø´Ø§ÙŠ Ù†ÙƒÙ‡Ø§Øª', price:20, img:'assets/images/hot_tea_flavors.png'},
    {id:'hot_06', name:'Ù†Ø¹Ù†Ø§Ø¹', price:15, img:'assets/images/hot_mint.png'},
    {id:'hot_07', name:'ÙŠÙ†Ø³ÙˆÙ†', price:15, img:'assets/images/hot_anise.png'},
    {id:'hot_08', name:'Ø¬Ù†Ø²Ø¨ÙŠÙ„', price:15, img:'assets/images/hot_ginger.png'},
    {id:'hot_09', name:'Ø§Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø³Ù†Ø¬Ù„', price:35, img:'assets/images/hot_espresso_single.png'},
    {id:'hot_10', name:'Ø§Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø¯Ø¨Ù„', price:40, img:'assets/images/hot_espresso_double.png'},
    {id:'hot_11', name:'Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠ Ø³Ù†Ø¬Ù„', price:25, img:'assets/images/hot_turkish_single.png'},
    {id:'hot_12', name:'Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠ Ø¯Ø¨Ù„', price:30, img:'assets/images/hot_turkish_double.png'},
    {id:'hot_13', name:'Ù‚Ù‡ÙˆØ© ÙØ±Ù†Ø³Ø§ÙˆÙŠ', price:35, img:'assets/images/hot_french.png'},
    {id:'hot_14', name:'Ù‚Ù‡ÙˆØ© Ø¨Ù†Ø¯Ù‚', price:35, img:'assets/images/hot_hazelnut.png'},
    {id:'hot_15', name:'Ù‚Ù‡ÙˆØ© Ù†ÙˆØªÙŠÙ„Ø§', price:40, img:'assets/images/hot_nutella.png'},
    {id:'hot_16', name:'Ù‚Ù‡ÙˆØ© Ø¨Ø³ØªØ§Ø´ÙŠÙˆ', price:40, img:'assets/images/hot_pistachio.png'},
    {id:'hot_17', name:'Ù„Ø§ØªÙŠÙ‡', price:50, img:'assets/images/hot_latte.png'},
    {id:'hot_18', name:'Ù„Ø§ØªÙŠÙ‡ ÙÙ„ÙØ±', price:60, img:'assets/images/hot_latte_velvet.png'},
    {id:'hot_flat', name:'ÙÙ„Ø§Øª ÙˆØ§ÙŠØª', price:60, img:'assets/images/hot_flat_white.png'},
    {id:'hot_19', name:'Ø§Ø³Ø¨Ø§Ù†Ø´ Ù„Ø§ØªÙŠÙ‡', price:65, img:'assets/images/hot_spanish_latte.png'},
    {id:'hot_20', name:'ÙƒØ§Ø¨ØªØ´ÙŠÙ†Ùˆ', price:55, img:'assets/images/hot_cappuccino.png'},
    {id:'hot_21', name:'Ù†Ø³ÙƒØ§ÙÙŠÙ‡ Ø­Ù„ÙŠØ¨', price:45, img:'assets/images/hot_nescafe_milk.png'},
    {id:'hot_22', name:'Ù†Ø³ÙƒØ§ÙÙŠÙ‡ Ø¨Ù„Ø§Ùƒ', price:35, img:'assets/images/hot_nescafe_black.png'},
    {id:'hot_23', name:'Ø§Ù…Ø±ÙŠÙƒØ§Ù†Ùˆ ÙƒÙˆÙÙŠ', price:50, img:'assets/images/hot_americano.png'},
    {id:'hot_24', name:'Ù‡ÙˆØª Ø´ÙˆÙƒÙ„ÙŠØª', price:50, img:'assets/images/hot_hot_chocolate.png'},
    {id:'hot_25', name:'Ù‡ÙˆØª Ø³ÙŠØ¯Ø±', price:45, img:'assets/images/hot_hot_cider.png'},
    {id:'hot_26', name:'Ø³Ø­Ù„Ø¨', price:40, img:'assets/images/hot_sahlab.png'},
    {id:'hot_27', name:'Ø³Ø­Ù„Ø¨ Ù…ÙƒØ³Ø±Ø§Øª', price:45, img:'assets/images/hot_sahlab_nuts.png'},
    {id:'hot_28', name:'Ø³Ø­Ù„Ø¨ Ù„ÙˆØªØ³', price:50, img:'assets/images/hot_sahlab_lotus.png'},
    {id:'hot_29', name:'Ø³Ø­Ù„Ø¨ ÙØ§Ù†ÙŠÙ„ÙŠØ§', price:50, img:'assets/images/hot_sahlab_vanilla.png'},
    {id:'hot_30', name:'Ø³Ø­Ù„Ø¨ ÙÙˆØ§ÙƒÙ‡Ù‡', price:50, img:'assets/images/hot_sahlab_fruits.png'},
    {id:'hot_31', name:'Ø³Ø­Ù„Ø¨ Ù†ÙŠÙˆ', price:65, img:'assets/images/hot_sahlab_neo.png'},
    {id:'hot_m1', name:'Ù…ÙŠÙƒØ§ØªÙˆ Ø³Ù†Ø¬Ù„', price:40, img:'assets/images/hot_macchiato_single.png'},
    {id:'hot_m2', name:'Ù…ÙŠÙƒØ§ØªÙˆ Ø¯Ø¨Ù„', price:45, img:'assets/images/hot_macchiato_double.png'},
    {id:'hot_mo1', name:'Ù…ÙˆÙƒØ§', price:45, img:'assets/images/hot_mocha.png'},
    {id:'hot_mo2', name:'Ù…ÙˆÙƒØ§ Ù†Ø¹Ù†Ø§Ø¹', price:50, img:'assets/images/hot_mocha_mint.png'},
    {id:'hot_esp_ic', name:'Ø§Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø¨Ø§Ù„Ø§ÙŠØ³ ÙƒØ±ÙŠÙ…', price:45, img:'assets/images/hot_espresso_with_icecream.png'}
  ]},
  
  // -- COLD DRINKS WITH SUBCATEGORIES --
  cold: { title: "Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø§Ù„Ø¨Ø§Ø±Ø¯Ø©", subcats: [
    { title: "Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ", items: [
      {id:'ms_01',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ ÙØ§Ù†ÙŠÙ„Ø§',price:50,img:'assets/images/ms_vanilla.png'},
      {id:'ms_02',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ Ø§ÙˆØ±ÙŠÙˆ',price:55,img:'assets/images/ms_oreo.png'},
      {id:'ms_03',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ Ù‡ÙˆÙ‡ÙˆØ²',price:55,img:'assets/images/ms_hohoz.png'},
      {id:'ms_04',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ ÙƒØ±Ø§Ù…ÙŠÙ„',price:55,img:'assets/images/ms_caramel.png'},
      {id:'ms_05',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ ÙØ±Ø§ÙˆÙ„Ø©',price:60,img:'assets/images/ms_strawberry.png'},
      {id:'ms_06',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ Ù…Ø§Ù†Ø¬Ùˆ',price:65,img:'assets/images/ms_mango.png'},
      {id:'ms_07',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ Ø§Ø³Ù†ÙŠÙƒØ±Ø²',price:75,img:'assets/images/ms_snickers.png'},
      {id:'ms_08',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ Ù…ÙˆØ±Ùˆ',price:75,img:'assets/images/ms_moro.png'},
      {id:'ms_09',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ Ø´ÙˆÙƒÙ„ÙŠØª',price:55,img:'assets/images/ms_chocolate.png'},
      {id:'ms_10',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ ÙƒÙ†Ø¯Ø±',price:65,img:'assets/images/ms_kinder.png'},
      {id:'ms_11',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ Ù†Ø³ÙƒØ§ÙÙŠÙ‡',price:50,img:'assets/images/ms_nescafe.png'},
      {id:'ms_12',name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ Ù…ÙˆØ² Ù†ÙˆØªÙŠÙ„Ø§',price:65,img:'assets/images/ms_banana_nutella.png'}
    ]},
    { title: "ÙØ±Ø¨Ø§ØªØ´ÙŠÙ†Ùˆ", items: [
      {id:'fr_01',name:'ÙØ±Ø¨Ø§ØªØ´ÙŠÙ†Ùˆ Ø´ÙˆÙƒÙ„ÙŠØª',price:50,img:'assets/images/fr_choclate.png'},
      {id:'fr_02',name:'ÙØ±Ø¨Ø§ØªØ´ÙŠÙ†Ùˆ ÙƒØ±Ø§Ù…ÙŠÙ„',price:55,img:'assets/images/fr_cramel.png'},
      {id:'fr_03',name:'ÙØ±Ø¨Ø§ØªØ´ÙŠÙ†Ùˆ Ø¨Ù†Ø¯Ù‚',price:55,img:'assets/images/fr_hazelnut.png'},
      {id:'fr_04',name:'ÙØ±Ø¨Ø§ØªØ´ÙŠÙ†Ùˆ ÙƒÙˆÙƒÙŠØ²',price:55,img:'assets/images/fr_cookies.png'},
      {id:'fr_05',name:'ÙØ±Ø¨Ø§ØªØ´ÙŠÙ†Ùˆ Ù†ÙˆØªÙŠÙ„Ø§',price:65,img:'assets/images/fr_Nutella.png'},
      {id:'fr_06',name:'ÙØ±Ø¨Ø§ØªØ´ÙŠÙ†Ùˆ Ø¨Ø³ØªØ§Ø´ÙŠÙˆ',price:75,img:'assets/images/fr_Bastashio.png'},
      {id:'fr_07',name:'Ø£ÙˆØ±ÙŠÙˆ',price:65,img:'assets/images/fr_oero.png'},
      {id:'fr_08',name:'Ù„ÙˆØªØ³',price:75,img:'assets/images/fr_lotus.png'}
    ]},
    { title: "Ø¢ÙŠØ³", items: [
      {id:'ice_01',name:'Ø§ÙŠØ³ Ù„Ø§ØªÙŠÙ‡',price:50,img:'assets/images/ice_latte.png'},
      {id:'ice_02',name:'Ø§ÙŠØ³ ÙƒÙˆÙÙŠ',price:45,img:'assets/images/ice_coffee.png'},
      {id:'ice_03',name:'Ø§ÙŠØ³ Ø§Ù…Ø±ÙŠÙƒØ§Ù†',price:55,img:'assets/images/ice_americano.png'},
      {id:'ice_04',name:'Ø§ÙŠØ³ Ø³Ø¨Ø§Ù†Ø´ Ù„Ø§ØªÙŠÙ‡',price:65,img:'assets/images/ice_spanish_latte.png'},
      {id:'ice_05',name:'Ø§ÙŠØ³ Ù…ÙˆÙƒØ§',price:55,img:'assets/images/ice_mocha.png'},
      {id:'ice_06',name:'Ø§ÙŠØ³ Ù„ÙˆØªØ³',price:50,img:'assets/images/ice_lotus.png'},
      {id:'ice_07',name:'Ø§ÙŠØ³ ÙƒØ±Ø§Ù…ÙŠÙ„',price:50,img:'assets/images/ice_caramel.png'}
    ]},
    { title: "ÙØ±ÙŠØ´", items: [
      {id:'frs_01',name:'Ù…Ø§Ù†Ø¬Ùˆ ÙØ±ÙŠØ´',price:50,img:'assets/images/fresh_mango.png'},
      {id:'frs_02',name:'ÙØ±Ø§ÙˆÙ„Ø© ÙØ±ÙŠØ´',price:45,img:'assets/images/fresh_strawberry.png'},
      {id:'frs_03',name:'ÙØ±Ø§ÙˆÙ„Ø© Ø­Ù„ÙŠØ¨',price:50,img:'assets/images/fresh_strawberry_milk.png'},
      {id:'frs_04',name:'Ù…ÙˆØ² Ø­Ù„ÙŠØ¨',price:50,img:'assets/images/fresh_banana_milk.png'},
      {id:'frs_05',name:'Ø¨Ù„Ø­ Ø­Ù„ÙŠØ¨',price:55,img:'assets/images/fresh_date_milk.png'},
      {id:'frs_06',name:'Ù„ÙŠÙ…ÙˆÙ† ÙØ±ÙŠØ´',price:30,img:'assets/images/fresh_lemon.png'},
      {id:'frs_07',name:'Ù„ÙŠÙ…ÙˆÙ† Ù†Ø¹Ù†Ø§Ø¹ ÙØ±ÙŠØ´',price:35,img:'assets/images/fresh_lemon_mint.png'},
      {id:'frs_08',name:'Ø¨Ø·ÙŠØ® (Ù…ÙˆØ³Ù…ÙŠ)',price:40,img:'assets/images/fresh_watermelon.png'},
      {id:'frs_09',name:'Ø¨Ø±ØªÙ‚Ø§Ù„ (Ù…ÙˆØ³Ù…ÙŠ)',price:40,img:'assets/images/fresh_orange.png'},
      {id:'frs_10',name:'ÙƒÙŠÙˆÙŠ (Ù…ÙˆØ³Ù…ÙŠ)',price:60,img:'assets/images/fresh_kiwi.png'},
      {id:'frs_11',name:'ÙƒÙŠÙˆÙŠ Ø­Ù„ÙŠØ¨ (Ù…ÙˆØ³Ù…ÙŠ)',price:70,img:'assets/images/fresh_kiwi_milk.png'},
      {id:'frs_12',name:'Ø§ÙÙˆØ¬Ø§ØªÙˆ Ø¹Ø³Ù„',price:100,img:'assets/images/fresh_affogato_honey.png'},
      {id:'frs_13',name:'Ø§ÙÙˆØ¬Ø§ØªÙˆ Ù…ÙƒØ³Ø±Ø§Øª',price:120,img:'assets/images/fresh_affogato_nuts.png'},
      {id:'frs_14',name:'Ø¬ÙˆØ§ÙØ©',price:45,img:'assets/images/fresh_guava.png'},
      {id:'frs_15',name:'ÙƒÙˆÙƒØªÙŠÙ„',price:55,img:'assets/images/fresh_cocktail.png'},
      {id:'frs_16',name:'ÙƒÙˆÙƒØªÙŠÙ„ Ù‚Ø·Ø¹',price:65,img:'assets/images/fresh_cocktail_chunks.png'},
      {id:'frs_17',name:'Ù†ÙŠÙˆ Ø§ÙÙˆØ¬Ø§ØªÙˆ',price:105,img:'assets/images/fresh_neo_affogato.png'}
    ]},
    { title: "Ø³Ù…ÙˆØ²ÙŠ", items: [
      {id:'smz_01',name:'Ø³Ù…ÙˆØ²ÙŠ ÙØ±Ø§ÙˆÙ„Ø©',price:45,img:'assets/images/smz_strawberry.png'},
      {id:'smz_02',name:'Ø³Ù…ÙˆØ²ÙŠ Ù…Ø§Ù†Ø¬Ùˆ',price:45,img:'assets/images/smz_mango.png'},
      {id:'smz_03',name:'Ø³Ù…ÙˆØ²ÙŠ Ø£Ù†Ø§Ù†Ø§Ø³',price:45,img:'assets/images/smz_pineapple.png'},
      {id:'smz_04',name:'Ø³Ù…ÙˆØ²ÙŠ Ø®ÙˆØ®',price:45,img:'assets/images/smz_peach.png'},
      {id:'smz_05',name:'Ø³Ù…ÙˆØ²ÙŠ ÙƒÙŠÙˆÙŠ',price:45,img:'assets/images/smz_kiwi.png'},
      {id:'smz_06',name:'Ø³Ù…ÙˆØ²ÙŠ Ø¨Ø·ÙŠØ®',price:45,img:'assets/images/smz_watermelon.png'},
      {id:'smz_07',name:'Ø³Ù…ÙˆØ²ÙŠ Ø¨Ù„ÙˆØ¨ÙŠØ±ÙŠ',price:45,img:'assets/images/smz_blueberry.png'}
    ]},
    { title: "ØµÙˆØ¯Ø§", items: [
      {id:'sod_01',name:'Ø¨Ù„ÙˆØ¨ÙŠØ±ÙŠ ØµÙˆØ¯Ø§',price:50,img:'assets/images/soda_blueberry.png'},
      {id:'sod_02',name:'Ø¨Ù„Ùˆ ØµÙˆØ¯Ø§',price:50,img:'assets/images/soda_blue.png'},
      {id:'sod_03',name:'Ø¨Ø±Ø§Ù†Ø¯ÙŠØª ØµÙˆØ¯Ø§',price:50,img:'assets/images/soda_brandit.png'},
      {id:'sod_04',name:'ÙØ±Ø§ÙˆÙ„Ø© ØµÙˆØ¯Ø§',price:50,img:'assets/images/soda_strawberry.png'},
      {id:'sod_05',name:'Ø£Ù†Ø§Ù†Ø§Ø³ ØµÙˆØ¯Ø§',price:50,img:'assets/images/soda_pineapple.png'},
      {id:'sod_06',name:'Ø®ÙˆØ® ØµÙˆØ¯Ø§',price:50,img:'assets/images/soda_peach.png'},
      {id:'sod_07',name:'Ù…ÙˆÙ‡ÙŠØªÙˆ',price:55,img:'assets/images/soda_mojito.png'}
    ]}
  ]},
  
  soft: { title: "Ù…Ø´Ø±ÙˆØ¨Ø§Øª ØºØ§Ø²ÙŠØ©", items: [
    {id:'soft_01',name:'V-Cola ÙƒÙ„Ø§Ø³ÙŠÙƒ',price:20,img:'assets/images/soft_vcola.png'},
    {id:'soft_02',name:'V-Cola Ù†ÙƒÙ‡Ø§Øª',price:25,img:'assets/images/soft_vcola_flavor.png'},
    {id:'soft_03',name:'Ø±ÙŠØ¯ Ø¨ÙˆÙ„ ÙƒÙ„Ø§Ø³ÙŠÙƒ',price:65,img:'assets/images/soft_redbull.png'},
    {id:'soft_05',name:'Ø±ÙŠØ¯ Ø¨ÙˆÙ„ Ù†ÙƒÙ‡Ø§Øª',price:75,img:'assets/images/soft_redbull_flavor.png'},
    {id:'soft_06',name:'ØªÙˆÙŠØ³Øª',price:25,img:'assets/images/soft_twist.png'},
    {id:'soft_07',name:'Ø´ÙˆÙŠØ¨Ø³',price:30,img:'assets/images/soft_schweppes.png'},
    {id:'soft_08',name:'ÙÙŠØ±ÙˆØ²',price:30,img:'assets/images/soft_fayrouz.png'},
    {id:'soft_09',name:'Ø¬Ù‡ÙŠÙ†Ø© Ø¹ØµÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠ',price:15,img:'assets/images/soft_juhayna_natural.png'},
    {id:'soft_10',name:'Ø¬Ù‡ÙŠÙ†Ø© Ù…ÙŠÙƒØ³ ÙØ±Ø§ÙˆÙ„Ø© Ø­Ù„ÙŠØ¨',price:20,img:'assets/images/soft_juhayna_mix.png'}
  ]},
  dessert: { title: "Ø­Ù„ÙˆÙŠØ§Øª / Ø£Ø·Ø¨Ø§Ù‚ Ø¯ÙŠØ²ÙŠØ±Øª", items: [
    {id:'d_01',name:'ÙˆØ§ÙÙ„ Ø´ÙˆÙƒÙ„ÙŠØª',price:65,img:'assets/images/waffle_chocolate.png'},
    {id:'d_02',name:'ÙˆØ§ÙÙ„ ÙƒØ±Ø§Ù…ÙŠÙ„',price:65,img:'assets/images/waffle_caramel.png'},
    {id:'d_03',name:'ÙˆØ§ÙÙ„ Ù†ÙˆØªÙŠÙ„Ø§',price:75,img:'assets/images/dess_waffle_nutella.png'},
    {id:'d_04',name:'ÙˆØ§ÙÙ„ Ø£ÙˆØ±ÙŠÙˆ',price:75,img:'assets/images/dess_waffle_oreo.png'},
    {id:'d_05',name:'ÙˆØ§ÙÙ„ Ù„ÙˆØªØ³',price:75,img:'assets/images/dess_waffle_lotus.png'},
    {id:'d_06',name:'ÙˆØ§ÙÙ„ Ø¨Ø³ØªØ§Ø´ÙŠÙˆ',price:85,img:'assets/images/dess_waffle_pistachio.png'},
    {id:'d_07',name:'ÙˆØ§ÙÙ„ ÙÙˆØ§ÙƒÙ‡',price:90,img:'assets/images/dess_waffle_fruits.png'},
    {id:'d_08',name:'Ù…ÙˆÙ„ØªÙ† ÙƒÙŠÙƒ',price:75,img:'assets/images/dess_molten.png'},
    {id:'d_09',name:'ØªØ´ÙŠØ² ÙƒÙŠÙƒ',price:85,img:'assets/images/dess_cheesecake.png'},
    {id:'d_10',name:'Ø´ÙˆÙƒÙ„ÙŠØª ÙƒÙŠÙƒ',price:70,img:'assets/images/dess_chocolate_cake.png'},
    {id:'d_11',name:'Ø³ÙŠÙ†Ø§Ø¨ÙˆÙ†',price:65,img:'assets/images/dess_Cinnabon.png'},
    {id:'d_12',name:'Ø¯ÙˆÙ†Ø§ØªØ³',price:50,img:'assets/images/dess_Donuts.png'},
    {id:'d_13',name:'Ø¨Ø±Ø§ÙˆÙ†ÙŠØ²',price:60,img:'assets/images/dess_Brownies.png'},
    {id:'d_14',name:'Ù…ÙŠÙ†ÙŠ ÙƒÙˆÙƒÙŠØ²',price:30,img:'assets/images/dess_Cookies.png'},
    {id:'d_15',name:'Ø¨Ø±ÙˆÙÙŠØªØ±ÙˆÙ„',price:35,img:'assets/images/dess_Profiterole.png'},
    {id:'d_16',name:'Ø¨Ø§Ù…Ø¨ÙˆÙ„ÙŠÙ†ÙŠ',price:55,img:'assets/images/dess_Bomboloni.png'},
    {id:'d_17', name:'ÙÙˆÙ„ÙƒØ§Ù†Ùˆ', price:75, img:'assets/images/dess_volcano.png'},
    {id:'d_18', name:'ÙƒØ±ÙˆØ§Ø³ÙˆÙ† ÙØ·Ø§Ø±', price:45, img:'assets/images/dess_Croissant.png'},
    {id:'d_19', name:'ØªÙŠØ±Ø§Ù…ÙŠØ³Ùˆ', price:65, img:'assets/images/dess_Tiramisu.png'},
    {id:'d_20', name:'ØªØ´ÙŠØ² Ù…Ø§Ø¯Ù†Ø³', price:95, img:'assets/images/dess_cheese_madness.png'}
  ]},
  special: { title: "Ù…Ù…ÙŠØ² Ù†ÙŠÙˆ", items: [
    {id:'sp_01',name:'Ø¨Ø·Ø§Ø·Ø§ Ø¹Ø³Ù„ + ÙÙˆØ§ÙƒÙ‡ + Ù…ÙƒØ³Ø±Ø§Øª',price:50,img:'assets/images/sp_potato_fruit_nuts.png'},
    {id:'sp_02',name:'Ø§Ù†Ø¯ÙˆÙ…ÙŠ',price:20,img:'assets/images/sp_noodles.png'},
    {id:'sp_03',name:'Ø§Ù†Ø¯ÙˆÙ…ÙŠ ÙØ±Ø§Ø® Ù‚Ø·Ø¹ Ø¨ØªØªØ¨ÙŠÙ„Ø© Ù†ÙŠÙˆ',price:40,img:'assets/images/sp_noodles_chicken.png'},
    {id:'sp_04',name:'ÙƒÙˆÙƒØªÙŠÙ„ Ù†ÙŠÙˆ Ø§Ù„Ù…Ù…ÙŠØ²',price:100,img:'assets/images/sp_cocktail_neo.png'}
  ]},
  ice: { title: "Ø§ÙŠØ³ ÙƒØ±ÙŠÙ…", items: [
    {id:'ic_01',name:'ÙƒÙˆØ¨ ÙˆØ³Ø·',price:25,img:'assets/images/ic_medium.png'},
    {id:'ic_02',name:'ÙƒÙˆØ¨ ÙƒØ¨ÙŠØ±',price:35,img:'assets/images/ic_large.png'}
  ]},
  extras: { title: "Ø¥Ø¶Ø§ÙØ§Øª", items: [
    {id:'ext_01',name:'ØªØºÙ„ÙŠÙ ØªÙŠÙƒØ§ÙˆØ§ÙŠ',price:10,img:'assets/images/ext_packaging.png'},
    {id:'ext_02',name:'Ù…ÙŠØ§Ù‡ Ù…Ø¹Ø¯Ù†ÙŠØ©',price:10,img:'assets/images/ext_water.png'},
    {id:'ext_03',name:'Ø¥Ø¶Ø§ÙØ©',price:10,img:'assets/images/ext_add.png'}
  ]},
  fun: { title: "Ø£Ù„Ø¹Ø§Ø¨ (Ù…Ø¬Ø§Ù†Ù‹Ø§)", items: [
    {id:'fun_02',name:'ÙƒÙˆØªØ´ÙŠÙ†Ø©',price:0,img:'assets/images/fun_cards.png'},
    {id:'fun_03',name:'Ø´Ø·Ø±Ù†Ø¬',price:0,img:'assets/images/fun_chess.png'},
    {id:'fun_04',name:'Ù‚ÙˆÙ„ Ø£Ù…ÙŠÙ…',price:0,img:'assets/images/fun_charades.png'},
    {id:'fun_05',name:'Ø§ÙØªØ­ ØªÙˆØ¨ÙŠÙƒ',price:0,img:'assets/images/fun_open_topic.png'}
  ]}
};

const CART_KEY = 'neo_cafe_cart_v_final';

// --- Helper func for generating grids ---
function createGridHTML(items) {
  const grid = document.createElement('div');
  grid.className = 'grid';
  items.forEach(item => {
    grid.innerHTML += `
      <div class="card">
        <img src="${item.img}" onerror="this.src='https://via.placeholder.com/300?text=NEO+CAFE'">
        <div class="card-name">${item.name}</div>
        <div class="card-price">${item.price === 0 ? 'Ù…Ø¬Ø§Ù†Ù‹Ø§' : item.price + ' Ø¬'}</div>
        <button class="add-btn" onclick="addToCart('${item.id}', '${item.name}', ${item.price})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
      </div>
    `;
  });
  return grid;
}

// --- Initialization & Render ---
function initMenu() {
  const content = document.getElementById('menuContent');
  
  for (let key in MENU_DATA) {
    const sec = document.createElement('div');
    sec.className = 'section-container';
    sec.id = 'sec_' + key;
    
    sec.innerHTML = `<h2 class="section-title">${MENU_DATA[key].title}</h2>`;
    
    // Check if category has subcategories (like "Cold")
    if (MENU_DATA[key].subcats) {
      const subNav = document.createElement('div');
      subNav.className = 'subcats-nav';
      const gridContainer = document.createElement('div');
      gridContainer.className = 'subcat-grid-container';

      MENU_DATA[key].subcats.forEach((sub, index) => {
        const btn = document.createElement('button');
        btn.className = 'subcat-btn' + (index === 0 ? ' active' : '');
        btn.textContent = sub.title;
        btn.onclick = (e) => {
          // Change active tab
          subNav.querySelectorAll('.subcat-btn').forEach(b => b.classList.remove('active'));
          e.target.classList.add('active');
          // Update Grid
          gridContainer.innerHTML = '';
          gridContainer.appendChild(createGridHTML(sub.items));
        };
        subNav.appendChild(btn);
      });

      // Load first subcategory by default
      gridContainer.appendChild(createGridHTML(MENU_DATA[key].subcats[0].items));
      
      sec.appendChild(subNav);
      sec.appendChild(gridContainer);
    } 
    // Otherwise standard category
    else if (MENU_DATA[key].items) {
      sec.appendChild(createGridHTML(MENU_DATA[key].items));
    }
    
    content.appendChild(sec);
  }
}

// --- Tab Logic ---
document.querySelectorAll('.cat').forEach(tab => {
  tab.onclick = () => {
    // Remove active state
    document.querySelectorAll('.cat').forEach(c => c.classList.remove('active'));
    tab.classList.add('active');
    
    // Hide all sections, show target
    const cat = tab.dataset.cat;
    document.querySelectorAll('.section-container').forEach(s => s.style.display = 'none');
    document.getElementById('sec_' + cat).style.display = 'block';
  };
});

// --- Cart Logic ---
function getCart() { return JSON.parse(localStorage.getItem(CART_KEY)) || []; }
function setCart(cart) { localStorage.setItem(CART_KEY, JSON.stringify(cart)); updateCartUI(); }

function addToCart(id, name, price) {
  let cart = getCart();
  const existing = cart.find(i => i.id === id);
  if (existing) {
    existing.qty += 1;
  } else {
    cart.push({ id, name, price, qty: 1 });
  }
  setCart(cart);
  showToast(name);
}

function removeItem(id) {
  let cart = getCart().filter(i => i.id !== id);
  setCart(cart);
  openCart(); // refresh modal
}

function updateCartUI() {
  const cart = getCart();
  const count = cart.reduce((sum, item) => sum + item.qty, 0);
  document.getElementById('cartCount').textContent = count;
}

function openCart() {
  const cart = getCart();
  const list = document.getElementById('cartList');
  const totalEl = document.getElementById('finalTotal');
  
  if (cart.length === 0) {
    list.innerHTML = '<p style="text-align:center; font-weight:700; padding:20px;">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
    totalEl.textContent = "";
  } else {
    list.innerHTML = cart.map(item => `
      <div class="cart-item">
        <div>
          <b style="color:var(--neo-dark); font-size:15px">${item.name}</b><br>
          <small style="color:var(--muted); font-weight:800">${item.price} Ø¬ Ã— ${item.qty}</small>
        </div>
        <button onclick="removeItem('${item.id}')" style="color:#d93025; background:none; border:none; font-weight:900; cursor:pointer; font-size:15px;">Ø­Ø°Ù</button>
      </div>
    `).join('');
    
    const total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
    totalEl.textContent = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬Ù†ÙŠÙ‡`;
  }
  document.getElementById('cartModal').style.display = 'flex';
}

function closeCart() {
  document.getElementById('cartModal').style.display = 'none';
}

function showToast(name) {
  const t = document.getElementById('toast');
  t.textContent = `ØªÙ… Ø¥Ø¶Ø§ÙØ© ${name} Ù„Ù„Ø³Ù„Ø©`;
  t.style.opacity = 1;
  t.style.transform = "translate(-50%, -10px)";
  
  // Pulse cart button
  const cb = document.querySelector('.cart-trigger');
  cb.style.transform = 'scale(1.1)';
  setTimeout(() => cb.style.transform = 'scale(1)', 200);
  
  setTimeout(() => {
    t.style.opacity = 0;
    t.style.transform = "translateX(-50%)";
  }, 2000);
}

function sendOrder() {
  const cart = getCart();
  if (cart.length === 0) return;
  
  let text = "Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ù†ÙŠÙˆ ğŸŒ™%0a%0a";
  cart.forEach(item => text += `â–ªï¸ ${item.name} (Ø¹Ø¯Ø¯: ${item.qty})%0a`);
  const total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
  text += `%0ağŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬Ù†ÙŠÙ‡%0aØ´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±Ùƒ Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ©!`;
  
  window.open(`https://wa.me/201034311119?text=${text}`, '_blank');
}

// Start up
initMenu();
updateCartUI();
// Show only Ramadan section initially
document.querySelectorAll('.section-container').forEach((s, i) => {
  if (s.id !== 'sec_ramadan') s.style.display = 'none';
});

</script>
</body>
</html>
