<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover" />
<title>Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© Ù…Ù†ÙŠÙˆ - NEO CAFÃ‰ MENU</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
:root{
  --neo-green:#124d33;
  --neo-green-2:#2f6b46;
  --neo-beige:#f6efe6;
  --neo-cream:#f7ead6;
  --muted:#6b6b6b;
  --shadow: 0 12px 30px rgba(15,40,25,0.06);
  --radius:12px;
}

/* reset & base */
*{box-sizing:border-box}
html,body{margin:0;padding:0;height:100%;background:var(--neo-beige);font-family:"Cairo","Poppins",system-ui,Segoe UI,Roboto,Arial;color:#111;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
body{overflow-x:hidden;padding-bottom:120px} /* enough space so the floating cart doesn't cover last items */

/* header */
header{padding:18px 14px 8px;text-align:center;position:relative}
.logo{position:absolute;top:8px;right:10px;width:120px;height:auto;object-fit:contain}
.title{margin:0;font-size:20px;color:var(--neo-green);font-weight:800}
.subtitle{margin-top:6px;color:var(--neo-green-2);font-weight:600;font-family:"Poppins",sans-serif}

/* tabs */
.tabs-area{padding:10px 12px 6px;display:flex;flex-direction:column;align-items:center;gap:8px}
.tab-all-wrap{display:flex;justify-content:center;width:100%}
.tab-all{background:var(--neo-green);color:#fff;padding:10px 20px;border-radius:999px;font-weight:800;border:none;cursor:pointer;box-shadow:0 12px 30px rgba(18,77,51,0.12)}
.tabs-row{display:flex;gap:8px;flex-wrap:nowrap;overflow-x:auto;padding:8px 6px;justify-content:center;width:100%}
.tab{flex:0 0 auto;padding:8px 12px;border-radius:999px;background:var(--neo-cream);border:1px solid rgba(18,77,51,0.06);color:var(--neo-green-2);font-weight:700;cursor:pointer;white-space:nowrap}
.tab.active{background:linear-gradient(180deg,var(--neo-green),var(--neo-green-2));color:#fff;box-shadow:0 10px 28px rgba(18,77,51,0.12)}

/* container */
.container{max-width:760px;margin:8px auto;padding:0 14px}
.section-title{font-size:18px;font-weight:800;color:var(--neo-green-2);margin:10px 0;text-align:right}

/* mobile single-column grid */
.grid{display:grid;grid-template-columns:1fr;gap:12px}
.card{background:#fff;border-radius:14px;padding:12px;display:flex;gap:12px;align-items:center;box-shadow:var(--shadow);transition:transform .18s ease}
.card:active{transform:translateY(2px)}
.thumb{width:96px;height:76px;border-radius:10px;background:#efefef;flex-shrink:0;object-fit:cover}
.meta{flex:1;min-width:0;text-align:right}
.meta h3{margin:0;font-size:17px;font-weight:800;color:#08321f;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.meta p{margin:6px 0 0;color:var(--muted);font-size:13px;height:36px;overflow:hidden}
.meta .price{margin-top:8px;color:var(--neo-green);font-weight:900;font-size:16px}
.actions{display:flex;gap:8px;align-items:center;justify-content:flex-end;min-width:120px}
.btn{padding:8px 12px;border-radius:10px;border:0;cursor:pointer;font-weight:800;font-size:14px}
.btn-outline{background:#fff;border:1px solid #eee;color:#444}
.btn-primary{background:var(--neo-green);color:#fff;box-shadow:0 8px 20px rgba(18,77,51,0.12)}
.btn-primary:hover{transform:translateY(-3px)}

/* ===== CART BUTTON (small, always visible) =====
   - small circular button that sits above content, bottom-right
   - will not overlap visible text because we added body padding-bottom
   - when item added, it "bumps" (grows) for 2s then returns
*/
.cart-float{
  position:fixed;
  right:14px;
  bottom:14px;
  z-index:9999999; /* very high to stay on top */
  display:flex;
  align-items:center;
  gap:10px;
  pointer-events:auto;
  user-select:none;
}

/* small circular icon button (default small) */
.cart-btn{
  width:56px;
  height:56px;
  border-radius:14px;
  background:linear-gradient(180deg,var(--neo-green),var(--neo-green-2));
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 22px 46px rgba(18,77,51,0.24);
  cursor:pointer;
  position:relative;
  transition:transform .18s ease, box-shadow .18s ease;
  flex-shrink:0;
  touch-action:manipulation;
}

/* badge count */
.cart-badge{
  position:absolute;top:-8px;left:-8px;min-width:26px;height:26px;display:flex;align-items:center;justify-content:center;border-radius:999px;background:#ffeb3b;color:#111;font-weight:900;box-shadow:0 8px 20px rgba(0,0,0,0.12);font-size:12px;display:none;
}

/* pill (optional) kept hidden by default to keep small footprint; can show if needed */
.cart-pill{display:none}

/* bump class: enlarge for a short time (we'll keep class for 2s via JS) */
.cart-btn.bump{
  transform:scale(1.25);
  box-shadow:0 32px 80px rgba(18,77,51,0.3);
}

/* ensure button always above any modal or content */
.cart-float, .cart-btn{will-change:transform}

/* cart modal (floating details) - unchanged behavior */
.cart-modal{
  position:fixed;
  right:14px;
  bottom:86px;
  z-index:10000000;
  width:calc(100% - 28px);
  max-width:420px;
  background:#fff;
  border-radius:14px;
  box-shadow:0 30px 80px rgba(10,20,15,0.2);
  overflow:hidden;
  transform-origin:100% 100%;
  transform:translateY(10px) scale(.98);
  opacity:0;
  transition:all .18s ease;
}
.cart-modal.show{transform:none;opacity:1}
.cart-modal header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #f1f1f1}
.cart-modal header h4{margin:0;font-size:16px;color:var(--neo-green);font-weight:800}
.cart-modal .close-btn{background:#eee;border-radius:8px;padding:6px 8px;font-weight:800;cursor:pointer}
.cart-modal .items{max-height:360px;overflow:auto;padding:10px 12px;display:flex;flex-direction:column;gap:10px}
.cart-modal .item{display:flex;gap:10px;align-items:center;justify-content:space-between}
.cart-modal .item .left{display:flex;gap:10px;align-items:center}
.cart-modal .item .left img{width:60px;height:46px;border-radius:8px;object-fit:cover;background:#f1f1f1}
.cart-modal .item .meta{min-width:0;text-align:right}
.cart-modal .item .meta b{display:block;font-size:14px}
.cart-modal .item .qty{display:flex;gap:6px;align-items:center}
.cart-modal .item .qty button{background:#f1f1f1;border:0;padding:6px 8px;border-radius:8px;cursor:pointer;font-weight:800}
.cart-modal .item .remove{background:transparent;border:0;color:#c33;font-weight:800;cursor:pointer;padding-left:6px}
.cart-modal footer{padding:12px;border-top:1px solid #f1f1f1;display:flex;flex-direction:column;gap:12px}
.total-row{display:flex;justify-content:space-between;align-items:center;font-weight:900;color:var(--neo-green);font-size:16px}
.checkout-btn{background:var(--neo-green);color:#fff;padding:12px 14px;border-radius:12px;border:0;font-weight:900;cursor:pointer;box-shadow:0 16px 40px rgba(18,77,51,0.16)}
.empty-note{padding:18px;text-align:center;color:var(--muted);font-weight:700}

/* responsive tweaks */
@media (min-width:420px){
  .cart-btn{width:64px;height:64px;border-radius:16px}
}

/* footer & socials */
footer.page-footer{text-align:center;padding:18px 12px 40px;color:var(--muted);margin-top:18px}
.socials{display:flex;justify-content:center;gap:10px;margin-top:10px;flex-wrap:wrap}
.socials a{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;color:#fff;font-weight:700}
.social-facebook{background:#1877F2}
.social-instagram{background:linear-gradient(45deg,#f58529,#dd2a7b,#8134af)}
.social-tiktok{background:#010101}
.thank{margin-top:12px;font-weight:700;color:var(--neo-green-2);font-size:15px}
</style>
</head>
<body>

<header>
  <img src="assets/images/logo.png" class="logo" alt="NEO CAFÃ‰ Logo" onerror="this.style.display='none'">
  <h1 class="title">Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© Ù…Ù†ÙŠÙˆ - NEO CAFÃ‰ MENU</h1>
  <div class="subtitle">Make It NEO Time</div>
</header>

<div class="tabs-area">
  <div class="tab-all-wrap">
    <button class="tab-all" id="tabAllBtn" data-cat="all">Ø§Ù„ÙƒÙ„</button>
  </div>

  <div class="tabs-row" id="tabs" role="tablist" aria-label="Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ù†ÙŠÙˆ">
    <button class="tab" data-cat="cold">Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø©</button>
    <button class="tab" data-cat="hot">Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø³Ø§Ø®Ù†Ø©</button>
    <button class="tab" data-cat="dessert_dishes">Ø¯ÙŠØ²ÙŠØ±Øª</button>
    <button class="tab" data-cat="special">Ù…Ù…ÙŠØ² Ù†ÙŠÙˆ</button>
  </div>
</div>

<div class="container">
  <main id="content" aria-live="polite"></main>

  <footer class="page-footer">
    <div>ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„</div>
    <div class="socials">
      <a class="social-facebook" href="https://facebook.com/neo.cafe.eg" target="_blank" rel="noopener">Facebook</a>
      <a class="social-instagram" href="https://instagram.com/neocafe.eg" target="_blank" rel="noopener">Instagram</a>
      <a class="social-tiktok" href="https://tiktok.com/@neo.cafe.eg" target="_blank" rel="noopener">TikTok</a>
    </div>
    <div class="thank">ğŸ’š Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±Ùƒ Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© â€” Ø­Ø¨ ÙˆØªÙ…ÙŠÙŠØ² Ø¯Ø§ÙŠÙ…Ù‹Ø§ Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù†ÙŠÙˆ ğŸ’š</div>
  </footer>
</div>

<!-- small floating cart button -->
<div id="cartFloat" class="cart-float" aria-live="polite">
  <button id="cartBtn" class="cart-btn" title="Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©" aria-label="Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <path d="M6 6H21L20 12H8L6 6Z" stroke="#fff" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M7 18C7.552 18 8 17.552 8 17C8 16.448 7.552 16 7 16C6.448 16 6 16.448 6 17C6 17.552 6.448 18 7 18Z" fill="#fff"/>
      <path d="M18 18C18.552 18 19 17.552 19 17C19 16.448 18.552 16 18 16C17.448 16 17 16.448 17 17C17 17.552 17.448 18 18 18Z" fill="#fff"/>
    </svg>
    <div id="cartBadge" class="cart-badge" aria-hidden="true">0</div>
  </button>
  <!-- optional pill kept hidden because you asked small button; leave for future -->
  <div id="cartPill" class="cart-pill" role="button" aria-label="Ø§ÙØªØ­ Ø§Ù„Ø³Ù„Ø©" style="display:none">
    <div class="pill-left">
      <div style="font-size:13px">Ø§ÙØªØ­ Ø§Ù„Ø³Ù„Ø©</div>
      <div class="pill-total" id="pillTotal">0 Ø¬</div>
    </div>
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <path d="M9 18l6-6-6-6" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>
</div>

<!-- Cart modal (floating card) -->
<div id="cartModal" class="cart-modal" role="dialog" aria-hidden="true">
  <header>
    <h4>Ø§Ù„Ø³Ù„Ø©</h4>
    <div>
      <button id="clearCartBtn" class="close-btn" title="ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©">ØªÙØ±ÙŠØº</button>
      <button id="closeCartBtn" class="close-btn" title="Ø¥ØºÙ„Ø§Ù‚">âœ•</button>
    </div>
  </header>

  <div class="items" id="cartItems"></div>

  <footer>
    <div class="total-row">
      <div>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
      <div id="modalTotal">0 Ø¬</div>
    </div>
    <button id="checkoutNowBtn" class="checkout-btn">Ø§Ø·Ù„Ø¨ Ø¯Ù„ÙˆÙ‚ØªÙŠ</button>
  </footer>
</div>

<script>
/* =========================
   MENU DATA (Ø§Ø®ØªØµØ§Ø± Ù‡Ù†Ø§ â€” Ø§Ù†Ø³Ø® ÙƒÙ„ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù„ÙŠ Ø¹Ù†Ø¯Ùƒ)
   ========================= */
const MENU = [
  /* Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø³Ø§Ø®Ù†Ø© */
  {id:'hot_01', cat:'hot', name:'Ø´Ø§ÙŠ', price:18},
  {id:'hot_02', cat:'hot', name:'Ø´Ø§ÙŠ Ø£Ø®Ø¶Ø±', price:22},
  {id:'hot_03', cat:'hot', name:'Ø´Ø§ÙŠ Ù†ÙƒÙ‡Ø§Øª', price:20},
  {id:'hot_04', cat:'hot', name:'Ù†Ø¹Ù†Ø§Ø¹', price:18},
  {id:'hot_05', cat:'hot', name:'ÙŠÙ†Ø³ÙˆÙ†', price:18},
  {id:'hot_06', cat:'hot', name:'Ø¬Ù†Ø²Ø¨ÙŠÙ„', price:20},
  {id:'hot_07', cat:'hot', name:'Ø§Ø³Ø¨Ø±ÙŠØ³Ùˆ', price:35},
  {id:'hot_08', cat:'hot', name:'Ø§Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø¯Ø¨Ù„', price:55},
  {id:'hot_09', cat:'hot', name:'Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠ Ø³Ù†Ø¬Ù„', price:30},
  {id:'hot_10', cat:'hot', name:'Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠ Ø¯Ø¨Ù„', price:45},
  {id:'hot_11', cat:'hot', name:'Ù‚Ù‡ÙˆØ© ÙØ±Ù†Ø³Ø§ÙˆÙŠ', price:40},
  {id:'hot_12', cat:'hot', name:'Ù‚Ù‡ÙˆØ© Ø¨Ù†Ø¯Ù‚', price:48},
  {id:'hot_13', cat:'hot', name:'Ù‚Ù‡ÙˆØ© Ù†ÙˆØªÙŠÙ„Ø§', price:60},
  {id:'hot_14', cat:'hot', name:'Ù‚Ù‡ÙˆØ© Ø¨Ø³ØªØ§Ø´ÙŠÙˆ', price:65},
  {id:'hot_15', cat:'hot', name:'Ù„Ø§ØªÙŠÙ‡', price:45},
  {id:'hot_16', cat:'hot', name:'Ø§Ø³Ø¨Ø§Ù†Ø´ Ù„Ø§ØªÙŠÙ‡', price:50},
  {id:'hot_17', cat:'hot', name:'ÙƒØ§Ø¨ØªØ´ÙŠÙ†Ùˆ', price:48},
  {id:'hot_18', cat:'hot', name:'Ù†Ø³ÙƒØ§ÙÙŠÙ‡', price:35},
  {id:'hot_19', cat:'hot', name:'Ø£Ù…ÙŠØ±ÙƒØ§Ù† ÙƒÙˆÙÙŠ', price:38},
  {id:'hot_20', cat:'hot', name:'Ù‡ÙˆØª Ø´ÙˆÙƒÙ„ÙŠØª', price:50},
  {id:'hot_21', cat:'hot', name:'Ù‡ÙˆØª Ø³ÙŠØ¯Ø±', price:40},
  {id:'hot_22', cat:'hot', name:'Ø³Ø­Ù„Ø¨', price:55},
  {id:'hot_23', cat:'hot', name:'Ø³Ø­Ù„Ø¨ Ù…ÙƒØ³Ø±Ø§Øª', price:75},
  {id:'hot_24', cat:'hot', name:'Ø³Ø­Ù„Ø¨ Ù„ÙˆØªØ³', price:70},
  {id:'hot_25', cat:'hot', name:'Ø³Ø­Ù„Ø¨ Ø¨Ø³ØªØ§Ø´ÙŠÙˆ', price:85},
  {id:'hot_26', cat:'hot', name:'Ø³Ø­Ù„Ø¨ Ù†ÙˆØªÙŠÙ„Ø§', price:80},
  {id:'hot_27', cat:'hot', name:'Ø³Ø­Ù„Ø¨ ÙÙˆØ§ÙƒÙ‡', price:60},

  /* Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø© (Ø¨Ù…Ø§ ÙÙŠÙ‡Ø§ Ø§Ù„Ø³ÙˆÙØª Ø¯Ø±ÙŠÙ†Ùƒ) */
  /* Ø§Ù„Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ */
  {id:'cold_mlk_oreo', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ø£ÙˆØ±ÙŠÙˆ', price:75},
  {id:'cold_mlk_hohoz', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ù‡ÙˆÙ‡ÙˆØ²', price:75},
  {id:'cold_mlk_van', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - ÙØ§Ù†Ù„ÙŠØ§', price:70},
  {id:'cold_mlk_carmel', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - ÙƒØ±Ø§Ù…ÙŠÙ„', price:75},
  {id:'cold_mlk_straw', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - ÙØ±Ø§ÙˆÙ„Ø©', price:75},
  {id:'cold_mlk_mango', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ù…Ø§Ù†Ø¬Ùˆ', price:75},
  {id:'cold_mlk_snickers', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ø§Ø³Ù†ÙŠÙƒØ±Ø²', price:85},
  {id:'cold_mlk_moro', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ù…ÙˆØ±Ùˆ', price:75},
  {id:'cold_mlk_choc', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ - Ø´ÙˆÙƒÙ„Øª', price:75},
  {id:'cold_mlk_new', cat:'cold', name:'Ù…Ù„Ùƒ ØªØ´ÙŠÙƒ NEW (Ù…ÙˆØ±Ùˆ - Ù‡ÙˆÙ‡ÙˆØ² - Ø£ÙˆØ±ÙŠÙˆ)', price:95},

  /* Ø§ÙŠØ³ */
  {id:'cold_ice_latte', cat:'cold', name:'Ø§ÙŠØ³ Ù„Ø§ØªÙŠÙ‡', price:55},
  {id:'cold_ice_coffee', cat:'cold', name:'Ø§ÙŠØ³ ÙƒÙˆÙÙŠ', price:55},
  {id:'cold_ice_american', cat:'cold', name:'Ø§ÙŠØ³ Ø§Ù…ÙŠØ±ÙƒØ§Ù†', price:50},
  {id:'cold_frapp_choc', cat:'cold', name:'ÙØ±Ø§Ø¨ØªØ´ÙŠÙ†Ùˆ - Ø´ÙˆÙƒÙ„ÙŠØª', price:65},
  {id:'cold_frapp_carmel', cat:'cold', name:'ÙØ±Ø§Ø¨ØªØ´ÙŠÙ†Ùˆ - ÙƒØ±Ø§Ù…ÙŠÙ„', price:65},
  {id:'cold_frapp_oreo', cat:'cold', name:'ÙØ±Ø§Ø¨ØªØ´ÙŠÙ†Ùˆ - Ø£ÙˆØ±ÙŠÙˆ', price:65},
  {id:'cold_frapp_snick', cat:'cold', name:'ÙØ±Ø§Ø¨ØªØ´ÙŠÙ†Ùˆ - Ø§Ø³Ù†ÙŠÙƒØ±Ø²', price:75},
  {id:'cold_ice_spanish', cat:'cold', name:'Ø§ÙŠØ³ Ø³Ø¨Ø§Ù†Ø´ Ù„Ø§ØªÙŠÙ‡', price:60},

  /* ÙØ±ÙŠØ´ */
  {id:'cold_fresh_mango', cat:'cold', name:'ÙØ±ÙŠØ´ Ù…Ø§Ù†Ø¬Ùˆ', price:55},
  {id:'cold_fresh_straw', cat:'cold', name:'ÙØ±ÙŠØ´ ÙØ±Ø§ÙˆÙ„Ø©', price:55},
  {id:'cold_fresh_straw_milk', cat:'cold', name:'ÙØ±Ø§ÙˆÙ„Ø© Ù„Ø¨Ù†', price:50},
  {id:'cold_fresh_banana_milk', cat:'cold', name:'Ù…ÙˆØ² Ø¨Ù„Ø¨Ù†', price:50},
  {id:'cold_fresh_date', cat:'cold', name:'Ø¨Ù„Ø­', price:45},
  {id:'cold_fresh_watermelon', cat:'cold', name:'Ø¨Ø·ÙŠØ®', price:45},
  {id:'cold_fresh_orange', cat:'cold', name:'Ø¨Ø±ØªÙ‚Ø§Ù„', price:45},
  {id:'cold_fresh_kiwi', cat:'cold', name:'ÙƒÙŠÙˆÙŠ (Ù…ÙˆØ³Ù…ÙŠ)', price:60},
  {id:'cold_fresh_affogato', cat:'cold', name:'Ø§ÙÙˆØ¬Ø§ØªÙˆ', price:70},
  {id:'cold_fresh_guava', cat:'cold', name:'Ø¬ÙˆØ§ÙØ©', price:45},
  {id:'cold_fresh_new', cat:'cold', name:'Ù†ÙŠÙˆ (Ø§ÙÙˆØ¬Ø§ØªÙˆ - Ø¹Ø³Ù„ - Ù…ÙƒØ³Ø±Ø§Øª - Ù…Ø§Ù†Ø¬Ùˆ - Ù…ÙˆØ²)', price:95},
  {id:'cold_fresh_cocktail', cat:'cold', name:'ÙØ±ÙŠØ´ ÙƒÙˆÙƒØªÙŠÙ„', price:80},
  {id:'cold_fresh_chunk_cocktail', cat:'cold', name:'ÙƒÙˆÙƒØªÙŠÙ„ Ù‚Ø·Ø¹', price:85},

  /* Ø§Ø³Ù…ÙˆØ²ÙŠ */
  {id:'cold_smooth_straw', cat:'cold', name:'Ø§Ø³Ù…ÙˆØ²ÙŠ ÙØ±Ø§ÙˆÙ„Ø©', price:60},
  {id:'cold_smooth_mango', cat:'cold', name:'Ø§Ø³Ù…ÙˆØ²ÙŠ Ù…Ø§Ù†Ø¬Ùˆ', price:60},
  {id:'cold_smooth_pine', cat:'cold', name:'Ø§Ø³Ù…ÙˆØ²ÙŠ Ø£Ù†Ø§Ù†Ø§Ø³', price:60},
  {id:'cold_smooth_peach', cat:'cold', name:'Ø§Ø³Ù…ÙˆØ²ÙŠ Ø®ÙˆØ®', price:60},
  {id:'cold_smooth_kiwi', cat:'cold', name:'Ø§Ø³Ù…ÙˆØ²ÙŠ ÙƒÙŠÙˆÙŠ', price:65},
  {id:'cold_smooth_water', cat:'cold', name:'Ø§Ø³Ù…ÙˆØ²ÙŠ Ø¨Ø·ÙŠØ®', price:60},
  {id:'cold_smooth_blue', cat:'cold', name:'Ø§Ø³Ù…ÙˆØ²ÙŠ Ø¨Ù„ÙˆØ¨Ø±ÙŠ', price:70},

  /* ØµÙˆØ¯Ø§ + Ù…ÙˆØ®ÙŠØªÙˆ + (Ø§Ù„Ø³ÙˆÙØª Ø¯Ø±ÙŠÙ†Ùƒ ØªÙ… Ø¯Ù…Ø¬Ù‡Ø§ Ù‡Ù†Ø§) */
  {id:'cold_soda_blueberry', cat:'cold', name:'Ø¨Ù„ÙˆØ¨Ø±ÙŠ ØµÙˆØ¯Ø§', price:45},
  {id:'cold_soda_blue', cat:'cold', name:'Ø¨Ù„Ùˆ ØµÙˆØ¯Ø§', price:45},
  {id:'cold_soda_brandit', cat:'cold', name:'Ø¨Ø±Ø§Ù†Ø¯ÙŠØª ØµÙˆØ¯Ø§', price:45},
  {id:'cold_soda_straw', cat:'cold', name:'ÙØ±Ø§ÙˆÙ„Ø© ØµÙˆØ¯Ø§', price:45},
  {id:'cold_soda_pine', cat:'cold', name:'Ø§Ù†Ø§Ù†Ø§Ø³ ØµÙˆØ¯Ø§', price:45},
  {id:'cold_soda_peach', cat:'cold', name:'Ø®ÙˆØ® ØµÙˆØ¯Ø§', price:45},
  {id:'cold_mojito', cat:'cold', name:'Ù…ÙˆØ®ÙŠØªÙˆ', price:50},
  {id:'cold_mojito_pine', cat:'cold', name:'Ù…ÙˆØ®ÙŠØªÙˆ Ø£Ù†Ø§Ù†Ø§Ø³', price:55},
  {id:'cold_mojito_straw', cat:'cold', name:'Ù…ÙˆØ®ÙŠØªÙˆ ÙØ±Ø§ÙˆÙ„Ø©', price:55},
  {id:'cold_mojito_blue', cat:'cold', name:'Ù…ÙˆØ®ÙŠØªÙˆ Ø¨Ù„ÙˆØ¨Ø±ÙŠ', price:55},
  {id:'cold_mojito_peach', cat:'cold', name:'Ù…ÙˆØ®ÙŠØªÙˆ Ø®ÙˆØ®', price:55},

  /* Ø³ÙˆÙØª Ø¯Ø±ÙŠÙ†Ùƒ Ù…Ø¯Ù…Ø¬Ø©: (Ø£Ø³Ù…Ø§Ø¡ Ø­Ø¯ÙŠØ«Ø© Ù…Ø¹ Ø§Ø¶Ø§ÙØ§Øª Red Bull Ùˆ Twist) */
  {id:'soft_vcola_soda', cat:'cold', name:'V-Cola Soda', price:30},
  {id:'soft_vcola_cola', cat:'cold', name:'V-Cola Cola', price:30},
  {id:'soft_vcola_diet', cat:'cold', name:'V-Cola Diet', price:30},
  {id:'soft_redbull', cat:'cold', name:'Red Bull', price:65},
  {id:'soft_twist', cat:'cold', name:'Twist', price:30},
  {id:'soft_vkola_sodap', cat:'cold', name:'ÙÙŠ ÙƒÙˆÙ„Ø§ ØµÙˆØ¯Ø§', price:30},
  {id:'soft_vkola_kola', cat:'cold', name:'ÙÙŠ ÙƒÙˆÙ„Ø§ "ÙƒÙˆÙ„Ø§"', price:30},
  {id:'soft_vkola_diet', cat:'cold', name:'ÙÙŠ ÙƒÙˆÙ„Ø§ Ø¯Ø§ÙŠØª', price:30},

  /* Ø¯ÙŠØ²ÙŠØ±Øª */
  {id:'dessert_waffle_classic', cat:'dessert_dishes', name:'ÙˆØ§ÙÙ„ ÙƒÙ„Ø§Ø³ÙŠÙƒ', price:55},
  {id:'dessert_waffle_nutella', cat:'dessert_dishes', name:'ÙˆØ§ÙÙ„ Ù†ÙˆØªÙŠÙ„Ø§', price:75},
  {id:'dessert_waffle_oreo', cat:'dessert_dishes', name:'ÙˆØ§ÙÙ„ Ø£ÙˆØ±ÙŠÙˆ', price:75},
  {id:'dessert_waffle_lotus', cat:'dessert_dishes', name:'ÙˆØ§ÙÙ„ Ù„ÙˆØªØ³', price:75},
  {id:'dessert_waffle_pistachio', cat:'dessert_dishes', name:'ÙˆØ§ÙÙ„ Ø¨Ø³ØªØ§Ø´ÙŠÙˆ', price:85},
  {id:'dessert_waffle_fruit', cat:'dessert_dishes', name:'ÙˆØ§ÙÙ„ ÙÙˆØ§ÙƒÙ‡', price:80},
  {id:'dessert_molten', cat:'dessert_dishes', name:'Ù…ÙˆÙ„ØªÙ†', price:70},
  {id:'dessert_cheesecake', cat:'dessert_dishes', name:'ØªØ´ÙŠØ² ÙƒÙŠÙƒ', price:75},
  {id:'dessert_choccake', cat:'dessert_dishes', name:'Ø´ÙˆÙƒÙ„ÙŠØª ÙƒÙŠÙƒ', price:75},

  /* Ù…Ù…ÙŠØ² Ù†ÙŠÙˆ */
  {id:'special_potato_fruit', cat:'special', name:'Ø¨Ø·Ø§Ø·Ø§ ÙÙˆØ§ÙƒÙ‡ ÙˆÙ…ÙƒØ³Ø±Ø§Øª ÙˆØ¹Ø³Ù„', price:65},
  {id:'special_indomie_chicken', cat:'special', name:'Ø§Ù†Ø¯ÙˆÙ…ÙŠ Ø¨Ù‚Ø·Ø¹ Ø§Ù„ÙØ±Ø§Ø® Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø¨ØªØªØ¨ÙŠÙ„Ø© Ù†ÙŠÙˆ', price:55},
  {id:'special_neo_cocktail', cat:'special', name:'ÙƒÙˆÙƒØªÙŠÙ„ Ù†ÙŠÙˆ Ø§Ù„Ù…Ù…ÙŠØ² (Ù‚Ø·Ø¹ ÙØ§ÙƒÙ‡Ø© ÙØ§Ø®Ø±Ø©ØŒ Ø³Ù…ÙˆØ²ÙŠØŒ Ø¹Ø³Ù„ØŒ Ù…ÙƒØ³Ø±Ø§ØªØŒ Ù‡ÙˆÙ‡ÙˆØ²ØŒ Ù…ÙˆØ±Ùˆ)', price:120}
];


const CART_KEY = 'neoCafe_cart_v1';

/* Ø­Ø³Ø¨ Ø·Ù„Ø¨Ùƒ: ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø© Ø¹Ù„Ù‰ ÙƒÙ„ ØªØ­Ù…ÙŠÙ„ */
try{ localStorage.removeItem(CART_KEY); } catch(e){ console.warn('reset cart failed', e); }

/* helper storage */
function loadCart(){ try{ const r = localStorage.getItem(CART_KEY); return r ? JSON.parse(r) : []; } catch(e){ return []; } }
function saveCart(cart){ try{ localStorage.setItem(CART_KEY, JSON.stringify(cart)); renderCartUI(true); } catch(e){ console.error(e); } }
function setCartSilent(cart){ try{ localStorage.setItem(CART_KEY, JSON.stringify(cart)); renderCartUI(false); } catch(e){ console.error(e); } }
function clearCart(){ localStorage.removeItem(CART_KEY); renderCartUI(); renderCartModal(); }

/* render menu (mobile-first single column) */
const content = document.getElementById('content');
const tabs = document.getElementById('tabs');
const tabAllBtn = document.getElementById('tabAllBtn');

function escapeHtml(s){ return String(s||'').replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }

function createCard(item, idx){
  const el = document.createElement('div');
  el.className = 'card';
  el.style.animationDelay = `${idx * 25}ms`;
  el.innerHTML = `
    <img class="thumb" src="https://via.placeholder.com/400x300?text=${encodeURIComponent(item.name)}" alt="${escapeHtml(item.name)}">
    <div class="meta">
      <h3>${escapeHtml(item.name)}</h3>
      <p>${item.desc ? escapeHtml(item.desc) : ''}</p>
      <div class="price">${item.price} Ø¬</div>
    </div>
    <div class="actions">
      <button class="btn btn-outline" onclick='viewDetails("${item.id}")'>Ø¹Ø±Ø¶</button>
      <button class="btn btn-primary" onclick='addToCart(${JSON.stringify(item).replaceAll("'", "\\'")})'>Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
    </div>
  `;
  return el;
}

function renderCategory(cat){
  content.innerHTML='';
  const title = document.createElement('div'); title.className='section-title';
  let itemsToShow=[];
  if(cat==='all'){ title.textContent='ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª'; itemsToShow = MENU.slice(); }
  else { const map={'hot':'Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø³Ø§Ø®Ù†Ø©','cold':'Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø©','dessert_dishes':'Ø¯ÙŠØ²ÙŠØ±Øª ','special':'Ù…Ù…ÙŠØ² Ù†ÙŠÙˆ'}; title.textContent = map[cat]||cat; itemsToShow = MENU.filter(i=>i.cat===cat); }
  content.appendChild(title);
  const grid = document.createElement('div'); grid.className='grid';
  itemsToShow.forEach((it,idx)=> grid.appendChild(createCard(it, idx)));
  content.appendChild(grid);

  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  if(cat==='all') tabAllBtn.classList.add('active'); else tabAllBtn.classList.remove('active');
}

/* cart UI (small button + modal) */
const cartBtn = document.getElementById('cartBtn');
const cartBadge = document.getElementById('cartBadge');
const cartPill = document.getElementById('cartPill');
const pillTotal = document.getElementById('pillTotal');
const cartModal = document.getElementById('cartModal');
const cartItemsEl = document.getElementById('cartItems');
const modalTotal = document.getElementById('modalTotal');
const closeCartBtn = document.getElementById('closeCartBtn');
const clearCartBtn = document.getElementById('clearCartBtn');
const checkoutNowBtn = document.getElementById('checkoutNowBtn');

function calcTotals(cart){
  let total=0,count=0;
  for(const it of cart){ total += (Number(it.price)||0)*(Number(it.qty)||0); count += Number(it.qty)||0; }
  return { total,count };
}

function renderCartUI(wasAdded=false){
  const cart = loadCart();
  if(!cart || cart.length===0){
    cartBadge.style.display='none';
    if(cartPill) cartPill.style.display='none';
    pillTotal && (pillTotal.textContent='0 Ø¬');
    return;
  }
  const { total,count } = calcTotals(cart);
  cartBadge.style.display='flex';
  cartBadge.textContent = count;
  if(cartPill) cartPill.style.display='none'; // keep small footprint
  if(pillTotal) pillTotal.textContent = `${total} Ø¬`;

  if(wasAdded){
    // bump the small icon for 2 seconds
    animateCartBump();
  }
}

/* animate: add 'bump' class for 2s then remove */
let bumpTimeout = null;
function animateCartBump(){
  cartBtn.classList.add('bump');
  if(bumpTimeout) clearTimeout(bumpTimeout);
  bumpTimeout = setTimeout(()=>{ cartBtn.classList.remove('bump'); bumpTimeout = null; }, 2000);
}

/* add to cart logic */
function addToCart(item){
  let cart = loadCart();
  const existing = cart.find(i=>i.id===item.id);
  if(existing) existing.qty = Number(existing.qty)+1;
  else cart.push({...item, qty:1});
  saveCart(cart);
  renderCartModal(); // update modal if open
  showToast(`${item.name} Ø§ØªØ¶Ø§Ù Ù„Ù„Ø³Ù„Ø© âœ”`);
}

/* render cart modal details */
function renderCartModal(){
  const cart = loadCart();
  cartItemsEl.innerHTML = '';
  if(!cart || cart.length === 0){
    cartItemsEl.innerHTML = `<div class="empty-note">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© â€” Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ù…Ù†ÙŠÙˆ</div>`;
    modalTotal.textContent = '0 Ø¬';
    cartModal.classList.add('show');
    cartModal.setAttribute('aria-hidden','false');
    return;
  }

  for(const it of cart){
    const row = document.createElement('div');
    row.className = 'item';
    row.innerHTML = `
      <div class="left">
        <img src="https://via.placeholder.com/200x140?text=${encodeURIComponent(it.name)}" alt="${escapeHtml(it.name)}">
        <div class="meta">
          <b>${escapeHtml(it.name)}</b>
          <div style="color:var(--muted);font-size:13px">${it.price} Ø¬ Ù„ÙƒÙ„ ÙˆØ­Ø¯Ø©</div>
        </div>
      </div>
      <div style="display:flex;flex-direction:column;align-items:flex-end;gap:6px">
        <div class="qty">
          <button class="dec" data-id="${it.id}">âˆ’</button>
          <div style="padding:6px 8px;border-radius:8px;background:#f4f4f4;font-weight:800">${it.qty}</div>
          <button class="inc" data-id="${it.id}">+</button>
        </div>
        <div style="display:flex;align-items:center;gap:8px">
          <div style="font-weight:900;color:var(--neo-green)">${(it.price * it.qty)} Ø¬</div>
          <button class="remove" data-id="${it.id}">Ø­Ø°Ù</button>
        </div>
      </div>
    `;
    cartItemsEl.appendChild(row);
  }

  // attach handlers
  cartItemsEl.querySelectorAll('.inc').forEach(b=>{
    b.addEventListener('click', (e)=>{
      const id = e.currentTarget.dataset.id;
      const cart = loadCart();
      const it = cart.find(x=>x.id===id);
      if(it){ it.qty = Number(it.qty)+1; setCartSilent(cart); renderCartModal(); }
    });
  });
  cartItemsEl.querySelectorAll('.dec').forEach(b=>{
    b.addEventListener('click', (e)=>{
      const id = e.currentTarget.dataset.id;
      const cart = loadCart();
      const it = cart.find(x=>x.id===id);
      if(it){
        it.qty = Number(it.qty)-1;
        if(it.qty <=0){ const idx = cart.findIndex(x=>x.id===id); if(idx>-1) cart.splice(idx,1); }
        setCartSilent(cart); renderCartModal();
      }
    });
  });
  cartItemsEl.querySelectorAll('.remove').forEach(b=>{
    b.addEventListener('click', (e)=>{
      const id = e.currentTarget.dataset.id;
      let cart = loadCart();
      cart = cart.filter(x=>x.id!==id);
      setCartSilent(cart);
      renderCartModal();
    });
  });

  const totals = calcTotals(cart);
  modalTotal.textContent = `${totals.total} Ø¬`;
}

/* open/close modal */
function openCartModal(){ renderCartModal(); cartModal.classList.add('show'); cartModal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
function closeCartModal(){ cartModal.classList.remove('show'); cartModal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }

cartBtn.addEventListener('click', ()=>{ openCartModal(); });
if(cartPill) cartPill.addEventListener('click', ()=>{ openCartModal(); });

closeCartBtn.addEventListener('click', closeCartModal);
clearCartBtn.addEventListener('click', ()=>{ if(!confirm('ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©ØŸ')) return; localStorage.removeItem(CART_KEY); renderCartUI(); renderCartModal(); });

checkoutNowBtn.addEventListener('click', ()=>{ window.location.href = 'checkout.html'; });

window.addEventListener('click', function(e){
  if(!cartModal.classList.contains('show')) return;
  const path = e.composedPath ? e.composedPath() : (e.path || []);
  if(!path.includes(cartModal) && !path.includes(cartBtn)) closeCartModal();
});
window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeCartModal(); });

/* toast */
function showToast(text){
  let t = document.getElementById('toast');
  if(!t){ t = document.createElement('div'); t.id='toast'; t.style.position='fixed'; t.style.left='50%'; t.style.transform='translateX(-50%)'; t.style.bottom='140px'; t.style.background='#111'; t.style.color='#fff'; t.style.padding='10px 14px'; t.style.borderRadius='10px'; t.style.zIndex=1000002; document.body.appendChild(t); }
  t.textContent = text; t.style.opacity = '1';
  setTimeout(()=>{ t.style.opacity='0'; }, 1100);
}

/* tabs init */
document.querySelectorAll('.tab').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    btn.classList.add('active');
    renderCategory(btn.dataset.cat);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
});
tabAllBtn.addEventListener('click', ()=>{ document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active')); tabAllBtn.classList.add('active'); renderCategory('all'); window.scrollTo({ top:0, behavior:'smooth' }); });

/* initial render */
renderCategory('all');
renderCartUI();

/* ensure cart UI updates across tabs if needed */
window.addEventListener('storage', (e)=>{ if(e.key === CART_KEY) renderCartUI(); });

/* expose functions (optional) */
window.addToCart = addToCart;
window.renderCartUI = renderCartUI;
window.renderCartModal = renderCartModal;
</script>
</body>
</html>
