<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© - Ù…Ù†ÙŠÙˆ Ø±Ù…Ø¶Ø§Ù†</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --neo-green:#124d33;
  --neo-green-2:#21593f;
  --neo-dark:#0a2e1e;
  --neo-gold:#d4af37; 
  --neo-beige:#fdfbf7;
  --neo-cream:#fbf4e9;
  --muted:#6b6b6b;
  --card-radius:14px;
  --shadow: 0 18px 40px rgba(18,77,51,0.06);
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:var(--neo-beige);
  font-family:"Cairo",sans-serif;
  color:#0b0b0b;
  -webkit-font-smoothing:antialiased;
  line-height:1.4;
  -webkit-tap-highlight-color: transparent;
  background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}
.lantern-container { position: absolute; top: 0; left: 0; width: 100%; height: 100px; overflow: hidden; z-index: 1; pointer-events: none; }
.lantern { position: absolute; top: -20px; width: 30px; height: 40px; background: var(--neo-gold); border-radius: 5px; box-shadow: 0 0 15px var(--neo-gold); animation: swing 3s infinite ease-in-out alternate; transform-origin: top center; }
.lantern::before { content:''; position:absolute; top:-100px; left:14px; width:2px; height:100px; background:var(--neo-dark); }
.l1 { left: 10%; animation-delay: 0s; transform: scale(0.8); }
.l2 { left: 85%; animation-delay: 1.5s; transform: scale(0.9); }
.l3 { left: 20%; top: -10px; animation-delay: 0.5s; background: var(--neo-green); }
@keyframes swing { 0% { transform: rotate(5deg); } 100% { transform: rotate(-5deg); } }
.header{
  background: linear-gradient(180deg, var(--neo-dark), var(--neo-green));
  padding: 25px 14px 15px;
  text-align:center;
  position:relative;
  border-bottom-left-radius: 25px;
  border-bottom-right-radius: 25px;
  box-shadow: 0 10px 20px rgba(18,77,51,0.2);
  color: #fff;
}
.header h1{ color:var(--neo-gold); font-weight:800; font-size:22px; margin-bottom:4px; padding: 0 60px;}
.ramadan-slogan {
  background: rgba(212, 175, 55, 0.2);
  color: var(--neo-gold);
  display: inline-block;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  margin-top: 5px;
  border: 1px solid var(--neo-gold);
}
.logo-container {
  position: absolute; right: 12px; top: 10px; width: 65px; height: 65px;
  display: flex; align-items: center; justify-content: center; z-index: 10;
}
.logo{ width: 100%; height: 100%; object-fit: cover; border-radius: 50%; background: #fff; padding: 2px; }
.cats-grid{ display:flex; flex-direction:column; gap:8px; padding:15px 12px; align-items:center; }
.cats-row{ display:flex; gap:10px; overflow-x:auto; width: 100%; padding-bottom: 5px; justify-content: center; }
.cat{
  flex:0 0 auto; background:#fff; border-radius:999px; padding:10px 14px;
  border:1px solid var(--neo-gold); font-weight:800; color:var(--neo-green);
  cursor:pointer; white-space:nowrap; transition: 0.3s;
}
.cat.active{ background:linear-gradient(45deg,var(--neo-green),var(--neo-dark)); color:var(--neo-gold); }
.container{max-width:980px;margin:8px auto;padding:6px 12px 160px}
.section-title{ color:var(--neo-green); font-weight:900; font-size:20px; margin:15px 0 12px; text-align:right; }
.grid{ display:grid; grid-template-columns: repeat(2, 1fr); gap:12px; }
.product-card{
  background:#fff; border-radius:12px; padding:8px; box-shadow:var(--shadow);
  display:flex; flex-direction:column; border: 1px solid rgba(212, 175, 55, 0.15);
}
.product-img{ width:100%; height:140px; object-fit:cover; border-radius:10px; background:#f2f2f2; }
.product-body{padding:10px 6px;display:flex;flex-direction:column;gap:8px}
.row-title{display:flex;justify-content:space-between;align-items:center;gap:8px}
.product-name{font-weight:900;color:var(--neo-dark);font-size:15px}
.price{color:var(--neo-green);font-weight:900}
.add-btn{
  background:var(--neo-green); color:var(--neo-gold); padding:8px 12px;
  border-radius:10px; border:0; font-weight:900; cursor:pointer;
}
.cart-float{position:fixed;right:14px;bottom:14px;z-index:9999;}
.cart-btn{
  background:var(--neo-green); color:var(--neo-gold); padding:12px 14px;
  border-radius:14px; display:flex; align-items:center; gap:10px;
  box-shadow:0 10px 30px rgba(0,0,0,0.2); cursor:pointer; border: 2px solid var(--neo-gold);
}
.cart-count{background:var(--neo-gold);color:#000;padding:2px 8px;border-radius:999px;font-weight:900;}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:100px;background:var(--neo-dark);color:var(--neo-gold);padding:10px 20px;border-radius:50px;font-weight:700;z-index:99999;opacity:0;transition:opacity .3s; pointer-events:none;}
.modal-back{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;padding:20px;z-index:9998; backdrop-filter: blur(4px);}
.modal-back.show{display:flex}
.modal{width:100%;max-width:500px;background:#fff;border-radius:20px;padding:20px;direction:rtl}
.modal .item{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #eee}
@media (max-width:480px){ .grid{grid-template-columns: 1fr;} }
</style>
</head>
<body>

<div class="lantern-container">
  <div class="lantern l1"></div><div class="lantern l2"></div><div class="lantern l3"></div>
</div>

<header class="header">
  <div class="logo-container">
    <img src="assets/images/logo.png" alt="NEO Cafe" class="logo" onerror="this.style.opacity='0'">
  </div>
  <h1>Ù†ÙŠÙˆ ÙƒØ§ÙÙŠØ© - Ø±Ù…Ø¶Ø§Ù†Ùƒ Ø¬Ù…ÙŠÙ„</h1>
  <p>Make It NEO Time</p>
  <div class="ramadan-slogan">âœ¨ Ø±Ù…Ø¶Ø§Ù†Ùƒ Ø¬Ù…ÙŠÙ„ ÙÙŠ Ù†ÙŠÙˆ âœ¨</div>
</header>

<div class="cats-grid">
  <div class="cats-row">
    <div class="cat active" data-cat="ramadan">ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† ÙÙŠ Ù†ÙŠÙˆ</div>
    <div class="cat" data-cat="hot">Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø³Ø§Ø®Ù†Ø©</div>
    <div class="cat" data-cat="cold">Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø©</div>
  </div>
  <div class="cats-row">
    <div class="cat" data-cat="soft">Ø³ÙˆÙØª Ø¯Ø±ÙŠÙ†Ùƒ</div>
    <div class="cat" data-cat="dessert">Ø£Ø·Ø¨Ø§Ù‚ Ø¯ÙŠØ²ÙŠØ±Øª</div>
    <div class="cat" data-cat="special">Ù…Ù…ÙŠØ² Ù†ÙŠÙˆ</div>
  </div>
</div>

<main class="container" id="mainContent">
  <div id="sections"></div>
</main>

<div class="cart-float">
  <div id="cartBtn" class="cart-btn">
    <div class="cart-count" id="cartCount">0</div>
    <div style="font-weight:900">Ø³Ù„Ø© Ø§Ù„Ø³Ø­ÙˆØ±</div>
  </div>
</div>

<div id="modalBackdrop" class="modal-back">
  <div class="modal">
    <h3 style="margin-bottom:15px; color:var(--neo-green)">Ø³Ù„ØªÙƒ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© ğŸŒ™</h3>
    <div id="modalList" style="max-height:300px; overflow-y:auto; margin-bottom:20px"></div>
    <div id="totalPrice" style="text-align:center; font-weight:800; margin-bottom:15px; font-size:18px"></div>
    <div style="display:flex;gap:10px">
      <button id="closeModal" class="add-btn" style="background:#eee; color:#333; flex:1">Ø¥ØºÙ„Ø§Ù‚</button>
      <button id="checkoutNow" class="add-btn" style="flex:2">Ø§Ø·Ù„Ø¨ ÙˆØ§ØªØ³Ø§Ø¨ ğŸŸ¢</button>
    </div>
  </div>
</div>

<div id="miniToast" class="toast">ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</div>

<script>
const CART_KEY = 'neo_cafe_ramadan_cart';

// --- DATA ---
const MENU = {
  ramadan: { title: 'âœ¨ Ø­Ù„ÙˆÙŠØ§Øª Ø±Ù…Ø¶Ø§Ù† âœ¨', items: [
    {id:'r1', name:'Ø±Ø² Ø¨Ù„Ø¨Ù† Ù…ÙƒØ³Ø±Ø§Øª', price:40, img:'assets/images/ram_rice_nuts.png'},
    {id:'r2', name:'ÙƒÙØ¨ ÙƒÙ†Ø§ÙÙ‡ Ù†ÙˆØªÙŠÙ„Ø§', price:85, img:'assets/images/ram_cup_nutella.png'},
    {id:'r3', name:'ÙØ§Ø¯Ø¬ ÙƒØ±Ø§Ù†Ø´ÙŠ Ù†ÙˆØªÙŠÙ„Ø§', price:95, img:'assets/images/ram_fudge_crunchy.png'}
  ]},
  hot: { title: 'â˜• Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø³Ø§Ø®Ù†Ø©', items: [
    {id:'h1', name:'Ø´Ø§ÙŠ Ù†ÙŠÙˆ', price:15, img:'assets/images/hot_shai.png'},
    {id:'h2', name:'Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠ', price:25, img:'assets/images/hot_turkish_single.png'},
    {id:'h3', name:'Ø³Ø­Ù„Ø¨ Ù…ÙƒØ³Ø±Ø§Øª', price:45, img:'assets/images/hot_sahlab_nuts.png'}
  ]},
  cold: { title: 'ğŸ¹ Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¨Ø§Ø±Ø¯Ø©', items: [
    {id:'c1', name:'Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ Ø§ÙˆØ±ÙŠÙˆ', price:55, img:'assets/images/ms_oreo.png'},
    {id:'c2', name:'Ø§ÙŠØ³ Ø³Ø¨Ø§Ù†Ø´ Ù„Ø§ØªÙŠÙ‡', price:65, img:'assets/images/ice_spanish_latte.png'}
  ]}
};

// --- CORE FUNCTIONS ---

function getCart() {
  return JSON.parse(localStorage.getItem(CART_KEY)) || [];
}

function setCart(cart) {
  localStorage.setItem(CART_KEY, JSON.stringify(cart));
  updateCartUI();
}

function addToCart(id, name, price) {
  let cart = getCart();
  const existing = cart.find(item => item.id === id);
  if (existing) {
    existing.qty += 1;
  } else {
    cart.push({ id, name, price, qty: 1 });
  }
  setCart(cart);
  showToast(name + " Ø§Ù†Ø¶Ø§Ù Ù„Ù„Ø³Ù„Ø©");
}

function removeFromCart(id) {
  let cart = getCart().filter(item => item.id !== id);
  setCart(cart);
  renderModal();
}

function updateCartUI() {
  const cart = getCart();
  const count = cart.reduce((sum, item) => sum + item.qty, 0);
  document.getElementById('cartCount').textContent = count;
}

function showToast(msg) {
  const t = document.getElementById('miniToast');
  t.textContent = msg;
  t.style.opacity = 1;
  setTimeout(() => t.style.opacity = 0, 2000);
}

// --- RENDERING ---

function renderMenu() {
  const container = document.getElementById('sections');
  container.innerHTML = '';
  
  for (const key in MENU) {
    const section = MENU[key];
    const sectionEl = document.createElement('div');
    sectionEl.className = 'section';
    sectionEl.id = 'sec_' + key;
    sectionEl.innerHTML = `<h2 class="section-title">${section.title}</h2>`;
    
    const grid = document.createElement('div');
    grid.className = 'grid';
    
    section.items.forEach(item => {
      grid.innerHTML += `
        <div class="product-card">
          <img src="${item.img}" class="product-img" onerror="this.src='https://via.placeholder.com/150'">
          <div class="product-body">
            <div class="row-title">
              <span class="product-name">${item.name}</span>
              <span class="price">${item.price} Ø¬</span>
            </div>
            <button class="add-btn" onclick="addToCart('${item.id}', '${item.name}', ${item.price})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
          </div>
        </div>
      `;
    });
    sectionEl.appendChild(grid);
    container.appendChild(sectionEl);
  }
}

function renderModal() {
  const cart = getCart();
  const list = document.getElementById('modalList');
  const totalEl = document.getElementById('totalPrice');
  
  if (cart.length === 0) {
    list.innerHTML = '<p style="text-align:center; padding:20px;">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© ÙŠØ§ Ø¨Ø·Ù„ ğŸŒ™</p>';
    totalEl.textContent = "";
  } else {
    list.innerHTML = cart.map(item => `
      <div class="item">
        <div><b>${item.name}</b> (x${item.qty})</div>
        <div>
          <span>${item.price * item.qty} Ø¬</span>
          <button onclick="removeFromCart('${item.id}')" style="margin-right:10px; color:red; border:none; background:none; cursor:pointer">Ø­Ø°Ù</button>
        </div>
      </div>
    `).join('');
    const total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
    totalEl.textContent = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬Ù†ÙŠÙ‡`;
  }
  document.getElementById('modalBackdrop').classList.add('show');
}

// --- EVENTS ---

document.getElementById('cartBtn').onclick = renderModal;
document.getElementById('closeModal').onclick = () => document.getElementById('modalBackdrop').classList.remove('show');

document.getElementById('checkoutNow').onclick = () => {
  const cart = getCart();
  if (cart.length === 0) return;
  let msg = "Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù†ÙŠÙˆ ÙƒØ§ÙÙŠÙ‡ ğŸŒ™%0a%0a";
  cart.forEach(item => msg += `â€¢ ${item.name} (Ø¹Ø¯Ø¯ ${item.qty})%0a`);
  const total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
  msg += `%0ağŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬`;
  window.open(`https://wa.me/20103431119?text=${msg}`, '_blank');
};

// Tabs
document.querySelectorAll('.cat').forEach(tab => {
  tab.onclick = () => {
    document.querySelectorAll('.cat').forEach(c => c.classList.remove('active'));
    tab.classList.add('active');
    const cat = tab.dataset.cat;
    document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
    document.getElementById('sec_' + cat).style.display = 'block';
  };
});

// Init
renderMenu();
updateCartUI();
// Show only Ramadan first
document.querySelectorAll('.section').forEach((s, i) => i > 0 ? s.style.display = 'none' : null);

</script>
</body>
</html>
