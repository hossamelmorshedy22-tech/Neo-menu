<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ â€“ Neo CafÃ©</title>
<style>
    body {
        font-family: "Cairo", sans-serif;
        background: #f8f8f8;
        margin: 0;
        padding: 20px;
    }

    .container {
        max-width: 600px;
        background: white;
        margin: auto;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 0 20px #0001;
    }

    h2 {
        text-align: center;
        margin-bottom: 20px;
        color: #125433;
    }

    label {
        font-weight: bold;
        margin-top: 10px;
        display: block;
    }

    input, select, textarea {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 16px;
    }

    textarea {
        height: 100px;
    }

    #send-order {
        width: 100%;
        padding: 15px;
        background: #125433;
        color: white;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        margin-top: 20px;
        cursor: pointer;
    }

    #send-order:hover {
        background: #0f472c;
    }

    .cart-box {
        background: #f0f0f0;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
    }
</style>
</head>

<body>

<div class="container">
    <h2>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h2>

    <div class="cart-box">
        <h3>Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ø³Ù„Ø©:</h3>
        <ul id="cart-items"></ul>
        <p><strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: </strong><span id="total">0</span> Ø¬Ù†ÙŠÙ‡</p>
    </div>

    <label>Ø§Ù„Ø§Ø³Ù…:</label>
    <input id="cust-name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§">

    <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯:</label>
    <div style="display:flex; gap:10px;">
        <select id="dob-day">
            <option disabled selected>Ø§Ù„ÙŠÙˆÙ…</option>
            <script>
                for (let i = 1; i <= 31; i++) {
                    document.write(`<option value="${i}">${i}</option>`);
                }
            </script>
        </select>

        <select id="dob-month">
            <option disabled selected>Ø§Ù„Ø´Ù‡Ø±</option>
            <script>
                for (let i = 1; i <= 12; i++) {
                    document.write(`<option value="${i}">${i}</option>`);
                }
            </script>
        </select>

        <select id="dob-year">
            <option disabled selected>Ø§Ù„Ø³Ù†Ø©</option>
            <script>
                let year = new Date().getFullYear();
                for (let i = year - 80; i <= year - 10; i++) {
                    document.write(`<option value="${i}">${i}</option>`);
                }
            </script>
        </select>
    </div>

    <label>Ø±Ù‚Ù… Ø§Ù„Ø·Ø§ÙˆÙ„Ø©:</label>
    <select id="cust-table">
        <option disabled selected>Ø§Ø®ØªØ§Ø± Ø±Ù‚Ù… Ø§Ù„Ø·Ø§ÙˆÙ„Ø©</option>
        <script>
            for (let i = 1; i <= 10; i++) {
                document.write(`<option value="${i}">${i}</option>`);
            }
        </script>
    </select>

    <label>Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„:</label>
    <input id="phone" placeholder="Ø§ÙƒØªØ¨ Ø±Ù‚Ù…Ùƒ">

    <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©:</label>
    <textarea id="notes" placeholder="Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ Ø·Ù„Ø¨ Ù…Ø¹ÙŠÙ† Ø§ÙƒØªØ¨Ù‡ Ù‡Ù†Ø§"></textarea>

    <button id="send-order">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
</div>

<!-- ========================= -->
<!-- ğŸ”¥ Firebase (Ø²ÙŠ Ù…Ø§ Ø¨Ø¹ØªÙ‡ Ø¨Ø§Ù„Ø¸Ø¨Ø·) -->
<!-- ========================= -->

<script type="module">

  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";
  import { getFirestore, doc, getDoc, setDoc, updateDoc }
  from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBPMOhuvKn6mUNgHYMiN9F_6m0ikmriOA4",
    authDomain: "neo-loyalty-b41c7.firebaseapp.com",
    projectId: "neo-loyalty-b41c7",
    storageBucket: "neo-loyalty-b41c7.firebasestorage.app",
    messagingSenderId: "1024912015862",
    appId: "1:1024912015862:web:8647e752c9ea2d2085c7d7",
    measurementId: "G-BKZPWB7YS6"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const db = getFirestore(app);

</script>

<!-- ========================= -->
<!-- ğŸ”¥ ÙƒÙˆØ¯ Ø§Ù„Ø³Ù„Ø© ÙˆØ¥Ø±Ø³Ø§Ù„ ÙˆØ§ØªØ³Ø§Ø¨ -->
<!-- ========================= -->

<script>
    const cart = JSON.parse(localStorage.getItem("cart")) || [];

    function loadCart() {
        const list = document.getElementById("cart-items");
        const total = document.getElementById("total");

        list.innerHTML = "";
        let sum = 0;

        cart.forEach(item => {
            const li = document.createElement("li");
            li.textContent = `${item.name} - ${item.price} Ø¬Ù†ÙŠÙ‡`;
            list.appendChild(li);
            sum += item.price;
        });

        total.textContent = sum;
    }

    loadCart();

    document.getElementById("send-order").onclick = function () {
        const name = document.getElementById("cust-name").value;
        const phone = document.getElementById("phone").value;
        const table = document.getElementById("cust-table").value;
        const notes = document.getElementById("notes").value;

        const day = document.getElementById("dob-day").value;
        const month = document.getElementById("dob-month").value;
        const year = document.getElementById("dob-year").value;

        const dob = `${day}/${month}/${year}`;

        let msg = `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Neo CafÃ©%0A`;
        msg += `------------------------%0A`;
        msg += `Ø§Ù„Ø§Ø³Ù…: ${name}%0A`;
        msg += `ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: ${dob}%0A`;
        msg += `Ø±Ù‚Ù… Ø§Ù„Ø·Ø§ÙˆÙ„Ø©: ${table}%0A`;
        msg += `Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„: ${phone}%0A`;
        msg += `------------------------%0A`;
        msg += `Ø§Ù„Ø·Ù„Ø¨Ø§Øª:%0A`;

        cart.forEach(i => {
            msg += `- ${i.name} (${i.price} Ø¬Ù†ÙŠÙ‡)%0A`;
        });

        msg += `------------------------%0A`;
        msg += `Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}%0A`;

        window.open(
            `https://api.whatsapp.com/send?phone=201034311119&text=${msg}`,
            "_blank"
        );
    };
</script>

</body>
</html>
