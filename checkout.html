const CART_KEY = 'neoCafe_cart_v1';

function loadCart(){ /* نفس نسخة الـ checkout */ }
function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); }

function addToCart(item){
  const cart = loadCart();
  // لو فيه عنصر بنفس id نزود الكمية بدل الإضافة مكرر
  const existing = cart.find(i=> i.id === item.id);
  if(existing){
    existing.qty = Number(existing.qty || 1) + Number(item.qty || 1);
  } else {
    cart.push({...item, qty: Number(item.qty || 1)});
  }
  saveCart(cart);
  // لاحظ: لا تستخدِم sessionStorage لو الصفحة التانية بتقرأ localStorage
}
